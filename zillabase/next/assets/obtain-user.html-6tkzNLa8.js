import{_ as i}from"./plugin-vue_export-helper-DlAUqK2U.js";import{b as a,k as n,o as e}from"./app-UdNvEmfz.js";const l={};function t(h,s){return e(),a("div",null,s[0]||(s[0]=[n(`<h1 id="obtaining-authenticated-user" tabindex="-1"><a class="header-anchor" href="#obtaining-authenticated-user"><span>Obtaining Authenticated User</span></a></h1><p>To obtain an authenticated user on view or stream, you can use <code>zilla_identity</code> variable in the query. For example:</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#000000;--shiki-dark:#D4D4D4;--shiki-light-bg:#FFFFFF;--shiki-dark-bg:#1E1E1E;"><pre class="shiki shiki-themes light-plus dark-plus vp-code"><code><span class="line"><span style="--shiki-light:#008000;--shiki-dark:#6A9955;">-- zilla_identity in view</span></span>
<span class="line"><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;">CREATE</span><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;"> VIEW</span><span style="--shiki-light:#795E26;--shiki-dark:#DCDCAA;"> user_transactions</span><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;"> AS</span></span>
<span class="line"><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;">  SELECT</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">      encode(zilla_identity, </span><span style="--shiki-light:#A31515;--shiki-dark:#CE9178;">&#39;escape&#39;</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">) </span><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;">AS</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> user_id,</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">      -amount </span><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;">AS</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> net_amount</span></span>
<span class="line"><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;">  FROM</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> streampay_commands</span></span>
<span class="line"><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;">  WHERE</span><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;"> type</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> = </span><span style="--shiki-light:#A31515;--shiki-dark:#CE9178;">&#39;SendPayment&#39;</span></span>
<span class="line"><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;">  UNION ALL</span></span>
<span class="line"><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;">  SELECT</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">      user_id </span><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;">AS</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> user_id,</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">      amount </span><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;">AS</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> net_amount</span></span>
<span class="line"><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;">  FROM</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> streampay_commands</span></span>
<span class="line"><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;">  WHERE</span><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;"> type</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> = </span><span style="--shiki-light:#A31515;--shiki-dark:#CE9178;">&#39;SendPayment&#39;</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#008000;--shiki-dark:#6A9955;">-- zilla_identify in stream</span></span>
<span class="line"><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;">CREATE</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> STREAM streampay_commands(</span></span>
<span class="line"><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;">    type</span><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;"> VARCHAR</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">,</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">    user_id </span><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;">VARCHAR</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">,</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">    request_id </span><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;">VARCHAR</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">,</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">    amount </span><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;">DOUBLE PRECISION</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">,</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">    notes </span><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;">VARCHAR</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">,</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">    zilla_correlation_id </span><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;">VARCHAR</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">,</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">    zilla_identity </span><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;">VARCHAR</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">,</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">    zilla_timestamp </span><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;">TIMESTAMP</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>We also provide <code>zilla_correlation_id</code> and <code>zilla_timestamp</code> in case you need it.</p>`,4)]))}const d=i(l,[["render",t],["__file","obtain-user.html.vue"]]),r=JSON.parse(`{"path":"/products/authentication/obtain-user.html","title":"Obtaining Authenticated User","lang":"en-US","frontmatter":{"description":"Obtaining Authenticated User To obtain an authenticated user on view or stream, you can use zilla_identity variable in the query. For example: We also provide zilla_correlation_...","head":[["meta",{"property":"og:url","content":"https://docs.aklivity.io/zillabase/next/products/authentication/obtain-user.html"}],["meta",{"property":"og:site_name","content":"Documentation"}],["meta",{"property":"og:title","content":"Obtaining Authenticated User"}],["meta",{"property":"og:description","content":"Obtaining Authenticated User To obtain an authenticated user on view or stream, you can use zilla_identity variable in the query. For example: We also provide zilla_correlation_..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"en-US"}],["meta",{"property":"og:updated_time","content":"2025-01-07T04:16:20.000Z"}],["meta",{"property":"article:modified_time","content":"2025-01-07T04:16:20.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Obtaining Authenticated User\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2025-01-07T04:16:20.000Z\\",\\"author\\":[]}"]]},"headers":[],"git":{"createdTime":1733912729000,"updatedTime":1736223380000,"contributors":[{"name":"cahyosubroto","email":"cahyosubroto30@gmail.com","commits":4}]},"readingTime":{"minutes":0.31,"words":92},"filePathRelative":"products/authentication/obtain-user.md","localizedDate":"December 11, 2024","autoDesc":true,"excerpt":"\\n<p>To obtain an authenticated user on view or stream, you can use <code>zilla_identity</code> variable in the query. For example:</p>\\n<div class=\\"language-sql line-numbers-mode\\" data-highlighter=\\"shiki\\" data-ext=\\"sql\\" data-title=\\"sql\\" style=\\"--shiki-light:#000000;--shiki-dark:#D4D4D4;--shiki-light-bg:#FFFFFF;--shiki-dark-bg:#1E1E1E\\"><pre class=\\"shiki shiki-themes light-plus dark-plus vp-code\\"><code><span class=\\"line\\"><span style=\\"--shiki-light:#008000;--shiki-dark:#6A9955\\">-- zilla_identity in view</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#0000FF;--shiki-dark:#569CD6\\">CREATE</span><span style=\\"--shiki-light:#0000FF;--shiki-dark:#569CD6\\"> VIEW</span><span style=\\"--shiki-light:#795E26;--shiki-dark:#DCDCAA\\"> user_transactions</span><span style=\\"--shiki-light:#0000FF;--shiki-dark:#569CD6\\"> AS</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#0000FF;--shiki-dark:#569CD6\\">  SELECT</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#000000;--shiki-dark:#D4D4D4\\">      encode(zilla_identity, </span><span style=\\"--shiki-light:#A31515;--shiki-dark:#CE9178\\">'escape'</span><span style=\\"--shiki-light:#000000;--shiki-dark:#D4D4D4\\">) </span><span style=\\"--shiki-light:#0000FF;--shiki-dark:#569CD6\\">AS</span><span style=\\"--shiki-light:#000000;--shiki-dark:#D4D4D4\\"> user_id,</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#000000;--shiki-dark:#D4D4D4\\">      -amount </span><span style=\\"--shiki-light:#0000FF;--shiki-dark:#569CD6\\">AS</span><span style=\\"--shiki-light:#000000;--shiki-dark:#D4D4D4\\"> net_amount</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#0000FF;--shiki-dark:#569CD6\\">  FROM</span><span style=\\"--shiki-light:#000000;--shiki-dark:#D4D4D4\\"> streampay_commands</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#0000FF;--shiki-dark:#569CD6\\">  WHERE</span><span style=\\"--shiki-light:#0000FF;--shiki-dark:#569CD6\\"> type</span><span style=\\"--shiki-light:#000000;--shiki-dark:#D4D4D4\\"> = </span><span style=\\"--shiki-light:#A31515;--shiki-dark:#CE9178\\">'SendPayment'</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#0000FF;--shiki-dark:#569CD6\\">  UNION ALL</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#0000FF;--shiki-dark:#569CD6\\">  SELECT</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#000000;--shiki-dark:#D4D4D4\\">      user_id </span><span style=\\"--shiki-light:#0000FF;--shiki-dark:#569CD6\\">AS</span><span style=\\"--shiki-light:#000000;--shiki-dark:#D4D4D4\\"> user_id,</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#000000;--shiki-dark:#D4D4D4\\">      amount </span><span style=\\"--shiki-light:#0000FF;--shiki-dark:#569CD6\\">AS</span><span style=\\"--shiki-light:#000000;--shiki-dark:#D4D4D4\\"> net_amount</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#0000FF;--shiki-dark:#569CD6\\">  FROM</span><span style=\\"--shiki-light:#000000;--shiki-dark:#D4D4D4\\"> streampay_commands</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#0000FF;--shiki-dark:#569CD6\\">  WHERE</span><span style=\\"--shiki-light:#0000FF;--shiki-dark:#569CD6\\"> type</span><span style=\\"--shiki-light:#000000;--shiki-dark:#D4D4D4\\"> = </span><span style=\\"--shiki-light:#A31515;--shiki-dark:#CE9178\\">'SendPayment'</span><span style=\\"--shiki-light:#000000;--shiki-dark:#D4D4D4\\">;</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#008000;--shiki-dark:#6A9955\\">-- zilla_identify in stream</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#0000FF;--shiki-dark:#569CD6\\">CREATE</span><span style=\\"--shiki-light:#000000;--shiki-dark:#D4D4D4\\"> STREAM streampay_commands(</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#0000FF;--shiki-dark:#569CD6\\">    type</span><span style=\\"--shiki-light:#0000FF;--shiki-dark:#569CD6\\"> VARCHAR</span><span style=\\"--shiki-light:#000000;--shiki-dark:#D4D4D4\\">,</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#000000;--shiki-dark:#D4D4D4\\">    user_id </span><span style=\\"--shiki-light:#0000FF;--shiki-dark:#569CD6\\">VARCHAR</span><span style=\\"--shiki-light:#000000;--shiki-dark:#D4D4D4\\">,</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#000000;--shiki-dark:#D4D4D4\\">    request_id </span><span style=\\"--shiki-light:#0000FF;--shiki-dark:#569CD6\\">VARCHAR</span><span style=\\"--shiki-light:#000000;--shiki-dark:#D4D4D4\\">,</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#000000;--shiki-dark:#D4D4D4\\">    amount </span><span style=\\"--shiki-light:#0000FF;--shiki-dark:#569CD6\\">DOUBLE PRECISION</span><span style=\\"--shiki-light:#000000;--shiki-dark:#D4D4D4\\">,</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#000000;--shiki-dark:#D4D4D4\\">    notes </span><span style=\\"--shiki-light:#0000FF;--shiki-dark:#569CD6\\">VARCHAR</span><span style=\\"--shiki-light:#000000;--shiki-dark:#D4D4D4\\">,</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#000000;--shiki-dark:#D4D4D4\\">    zilla_correlation_id </span><span style=\\"--shiki-light:#0000FF;--shiki-dark:#569CD6\\">VARCHAR</span><span style=\\"--shiki-light:#000000;--shiki-dark:#D4D4D4\\">,</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#000000;--shiki-dark:#D4D4D4\\">    zilla_identity </span><span style=\\"--shiki-light:#0000FF;--shiki-dark:#569CD6\\">VARCHAR</span><span style=\\"--shiki-light:#000000;--shiki-dark:#D4D4D4\\">,</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#000000;--shiki-dark:#D4D4D4\\">    zilla_timestamp </span><span style=\\"--shiki-light:#0000FF;--shiki-dark:#569CD6\\">TIMESTAMP</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#000000;--shiki-dark:#D4D4D4\\">);</span></span></code></pre>\\n<div class=\\"line-numbers\\" aria-hidden=\\"true\\" style=\\"counter-reset:line-number 0\\"><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div></div></div>"}`);export{d as comp,r as data};
