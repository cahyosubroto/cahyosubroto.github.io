import{_ as s}from"./plugin-vue_export-helper-DlAUqK2U.js";import{b as i,k as t,o as a}from"./app-UdNvEmfz.js";const n={};function l(p,e){return a(),i("div",null,e[0]||(e[0]=[t(`<h1 id="petstore-example" tabindex="-1"><a class="header-anchor" href="#petstore-example"><span>Petstore Example</span></a></h1><p>The Petstore example project implements the common Petstore example, where requests are proxied to Kafka.</p><p>Zilla implements the REST endpoints defined in an AsyncAPI 3.x spec and proxies them onto Kafka topics defined in an AsyncAPI 3.x spec based on the operations defined in each spec. HTTP AsyncAPI 3.x spec and Kafka AsyncAPI 3.x spec are generated automatically based on the Kafka Cluster metadata information.</p><h2 id="prerequisites" tabindex="-1"><a class="header-anchor" href="#prerequisites"><span>Prerequisites</span></a></h2><p>Before we start, make sure you fulfill the following requirements:</p><ul><li>Java 20+</li><li>Homebrew package manager</li><li>Docker</li><li>Zillabase CLI</li></ul><h3 id="installing-zillabase-cli" tabindex="-1"><a class="header-anchor" href="#installing-zillabase-cli"><span>Installing Zillabase CLI</span></a></h3><p>If you don&#39;t have Zillabase CLI installed, install it with the following command:</p><div class="language-sh line-numbers-mode" data-highlighter="shiki" data-ext="sh" data-title="sh" style="--shiki-light:#000000;--shiki-dark:#D4D4D4;--shiki-light-bg:#FFFFFF;--shiki-dark-bg:#1E1E1E;"><pre class="shiki shiki-themes light-plus dark-plus vp-code"><code><span class="line"><span style="--shiki-light:#795E26;--shiki-dark:#DCDCAA;">brew</span><span style="--shiki-light:#A31515;--shiki-dark:#CE9178;"> tap</span><span style="--shiki-light:#A31515;--shiki-dark:#CE9178;"> aklivity/tap</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#795E26;--shiki-dark:#DCDCAA;">brew</span><span style="--shiki-light:#A31515;--shiki-dark:#CE9178;"> install</span><span style="--shiki-light:#A31515;--shiki-dark:#CE9178;"> zillabase</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="hint-container info"><p class="hint-container-title">Info</p><p>The Homebrew package manager is required. You can install it on MacOS and other Linux distributions. To install it, run the following command:</p><div class="language-sh" data-highlighter="shiki" data-ext="sh" data-title="sh" style="--shiki-light:#000000;--shiki-dark:#D4D4D4;--shiki-light-bg:#FFFFFF;--shiki-dark-bg:#1E1E1E;"><pre class="shiki shiki-themes light-plus dark-plus vp-code"><code><span class="line"><span style="--shiki-light:#795E26;--shiki-dark:#DCDCAA;">/bin/bash</span><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;"> -c</span><span style="--shiki-light:#A31515;--shiki-dark:#CE9178;"> &quot;$(</span><span style="--shiki-light:#795E26;--shiki-dark:#DCDCAA;">curl</span><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;"> -fsSL</span><span style="--shiki-light:#A31515;--shiki-dark:#CE9178;"> https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)&quot;</span></span></code></pre></div><p>For more details, visit the <a href="https://github.com/aklivity/zillabase" target="_blank" rel="noopener noreferrer">Zillabase GitHub repository</a>.</p></div><h2 id="setting-up-the-project" tabindex="-1"><a class="header-anchor" href="#setting-up-the-project"><span>Setting Up the Project</span></a></h2><ol><li>Clone the Zillabase repository.</li></ol><div class="language-sh" data-highlighter="shiki" data-ext="sh" data-title="sh" style="--shiki-light:#000000;--shiki-dark:#D4D4D4;--shiki-light-bg:#FFFFFF;--shiki-dark-bg:#1E1E1E;"><pre class="shiki shiki-themes light-plus dark-plus vp-code"><code><span class="line"><span style="--shiki-light:#795E26;--shiki-dark:#DCDCAA;">git</span><span style="--shiki-light:#A31515;--shiki-dark:#CE9178;"> clone</span><span style="--shiki-light:#A31515;--shiki-dark:#CE9178;"> https://github.com/aklivity/zillabase.git</span></span></code></pre></div><p>The Petstore project is stored in the <code>examples/petstore</code> directory.</p><ol start="2"><li>go to the <code>petstore</code> project example directory on the cloned repository directory.</li></ol><div class="language-sh" data-highlighter="shiki" data-ext="sh" data-title="sh" style="--shiki-light:#000000;--shiki-dark:#D4D4D4;--shiki-light-bg:#FFFFFF;--shiki-dark-bg:#1E1E1E;"><pre class="shiki shiki-themes light-plus dark-plus vp-code"><code><span class="line"><span style="--shiki-light:#795E26;--shiki-dark:#DCDCAA;">cd</span><span style="--shiki-light:#A31515;--shiki-dark:#CE9178;"> examples/petstore</span></span></code></pre></div><ol start="3"><li>Start the project and wait for the initialization process to finish.</li></ol><div class="language-sh" data-highlighter="shiki" data-ext="sh" data-title="sh" style="--shiki-light:#000000;--shiki-dark:#D4D4D4;--shiki-light-bg:#FFFFFF;--shiki-dark-bg:#1E1E1E;"><pre class="shiki shiki-themes light-plus dark-plus vp-code"><code><span class="line"><span style="--shiki-light:#795E26;--shiki-dark:#DCDCAA;">zillabase</span><span style="--shiki-light:#A31515;--shiki-dark:#CE9178;"> start</span></span></code></pre></div><h2 id="using-the-petstore-apis" tabindex="-1"><a class="header-anchor" href="#using-the-petstore-apis"><span>Using the Petstore APIs</span></a></h2><p>The Zillabase Petstore is an HTTP Kafka proxy that exposes common entity CRUD endpoints, with entity data stored on Kafka topics.</p><h3 id="endpoints" tabindex="-1"><a class="header-anchor" href="#endpoints"><span>Endpoints</span></a></h3><table><thead><tr><th>Protocol</th><th>Method</th><th>Endpoint</th><th>Topic</th><th>Description</th></tr></thead><tbody><tr><td>HTTP</td><td>POST</td><td>/petstore_pets</td><td>petstore_pets</td><td>Create an entry.</td></tr><tr><td>HTTP</td><td>PUT</td><td>/petstore_pets/{id}</td><td>petstore_pets</td><td>Update pet by the key.</td></tr><tr><td>HTTP</td><td>DELETE</td><td>/petstore_pets/{id}</td><td>petstore_pets</td><td>Delete pet by the key.</td></tr><tr><td>HTTP</td><td>GET</td><td>/petstore_pets</td><td>petstore_pets</td><td>Fetch all pets.</td></tr><tr><td>HTTP</td><td>GET</td><td>/petstore_pets/{id}</td><td>petstore_pets</td><td>Fetch pet by the key.</td></tr></tbody></table><p>Similarly, endpoints are available to manage customers using <code>/petstore_customers</code> &amp; <code>/petstore_verified_customers</code>.</p><h3 id="examples" tabindex="-1"><a class="header-anchor" href="#examples"><span>Examples</span></a></h3><h4 id="publish-a-valid-record" tabindex="-1"><a class="header-anchor" href="#publish-a-valid-record"><span>Publish a valid record</span></a></h4><div class="language-bash" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#000000;--shiki-dark:#D4D4D4;--shiki-light-bg:#FFFFFF;--shiki-dark-bg:#1E1E1E;"><pre class="shiki shiki-themes light-plus dark-plus vp-code"><code><span class="line"><span style="--shiki-light:#795E26;--shiki-dark:#DCDCAA;">curl</span><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;"> -k</span><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;"> -v</span><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;"> -X</span><span style="--shiki-light:#A31515;--shiki-dark:#CE9178;"> POST</span><span style="--shiki-light:#A31515;--shiki-dark:#CE9178;"> http://localhost:8080/petstore_pets</span><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;"> -H</span><span style="--shiki-light:#A31515;--shiki-dark:#CE9178;"> &#39;Idempotency-Key: 1&#39;</span><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;">  -H</span><span style="--shiki-light:#A31515;--shiki-dark:#CE9178;"> &#39;Content-Type: application/json&#39;</span><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;"> -d</span><span style="--shiki-light:#A31515;--shiki-dark:#CE9178;"> &#39;{&quot;id&quot;: &quot;123&quot;, &quot;breed&quot;: &quot;Awesome Dog&quot;}&#39;</span></span></code></pre></div><p>Output:</p><div class="language-text line-numbers-mode" data-highlighter="shiki" data-ext="text" data-title="text" style="--shiki-light:#000000;--shiki-dark:#D4D4D4;--shiki-light-bg:#FFFFFF;--shiki-dark-bg:#1E1E1E;"><pre class="shiki shiki-themes light-plus dark-plus vp-code"><code><span class="line"><span>&gt; POST /petstore_pets HTTP/1.1</span></span>
<span class="line"><span>...</span></span>
<span class="line"><span>&gt; Content-Type: application/json</span></span>
<span class="line"><span>&gt; Content-Length: 35</span></span>
<span class="line"><span>&gt;</span></span>
<span class="line"><span>&lt; HTTP/1.1 204 No Content</span></span>
<span class="line"><span>&lt; Access-Control-Allow-Origin: *</span></span>
<span class="line"><span>&lt;</span></span>
<span class="line"><span>* Connection #0 to host localhost left intact</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="fetch-a-record" tabindex="-1"><a class="header-anchor" href="#fetch-a-record"><span>Fetch a record</span></a></h4><div class="language-bash" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#000000;--shiki-dark:#D4D4D4;--shiki-light-bg:#FFFFFF;--shiki-dark-bg:#1E1E1E;"><pre class="shiki shiki-themes light-plus dark-plus vp-code"><code><span class="line"><span style="--shiki-light:#795E26;--shiki-dark:#DCDCAA;">curl</span><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;"> -k</span><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;"> -v</span><span style="--shiki-light:#A31515;--shiki-dark:#CE9178;"> http://localhost:8080/petstore_pets/1</span></span></code></pre></div><p>Output:</p><div class="language-text line-numbers-mode" data-highlighter="shiki" data-ext="text" data-title="text" style="--shiki-light:#000000;--shiki-dark:#D4D4D4;--shiki-light-bg:#FFFFFF;--shiki-dark-bg:#1E1E1E;"><pre class="shiki shiki-themes light-plus dark-plus vp-code"><code><span class="line"><span>&gt; GET /petstore_pets/1 HTTP/1.1</span></span>
<span class="line"><span>...</span></span>
<span class="line"><span>&lt; HTTP/1.1 200 OK</span></span>
<span class="line"><span>&lt; Content-Length: 33</span></span>
<span class="line"><span>&lt; Content-Type: application/json</span></span>
<span class="line"><span>&lt; Etag: AQIAAg==</span></span>
<span class="line"><span>&lt; Access-Control-Allow-Origin: *</span></span>
<span class="line"><span>&lt; Access-Control-Expose-Headers: *</span></span>
<span class="line"><span>&lt;</span></span>
<span class="line"><span>* Connection #0 to host localhost left intact</span></span>
<span class="line"><span>{&quot;id&quot;: &quot;123&quot;, &quot;breed&quot;: &quot;Common Dog&quot;}%</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="stopping-the-project" tabindex="-1"><a class="header-anchor" href="#stopping-the-project"><span>Stopping the Project</span></a></h2><p>To stop the Zillabase project, run the following command:</p><div class="language-sh" data-highlighter="shiki" data-ext="sh" data-title="sh" style="--shiki-light:#000000;--shiki-dark:#D4D4D4;--shiki-light-bg:#FFFFFF;--shiki-dark-bg:#1E1E1E;"><pre class="shiki shiki-themes light-plus dark-plus vp-code"><code><span class="line"><span style="--shiki-light:#795E26;--shiki-dark:#DCDCAA;">zillabase</span><span style="--shiki-light:#A31515;--shiki-dark:#CE9178;"> stop</span></span></code></pre></div>`,35)]))}const d=s(n,[["render",l],["__file","petstore.html.vue"]]),o=JSON.parse('{"path":"/examples/petstore.html","title":"Petstore Example","lang":"en-US","frontmatter":{"description":"Petstore Example The Petstore example project implements the common Petstore example, where requests are proxied to Kafka. Zilla implements the REST endpoints defined in an Asyn...","head":[["meta",{"property":"og:url","content":"https://docs.aklivity.io/zillabase/next/examples/petstore.html"}],["meta",{"property":"og:site_name","content":"Documentation"}],["meta",{"property":"og:title","content":"Petstore Example"}],["meta",{"property":"og:description","content":"Petstore Example The Petstore example project implements the common Petstore example, where requests are proxied to Kafka. Zilla implements the REST endpoints defined in an Asyn..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"en-US"}],["meta",{"property":"og:updated_time","content":"2025-01-09T03:23:53.000Z"}],["meta",{"property":"article:modified_time","content":"2025-01-09T03:23:53.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Petstore Example\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2025-01-09T03:23:53.000Z\\",\\"author\\":[]}"]]},"headers":[{"level":2,"title":"Prerequisites","slug":"prerequisites","link":"#prerequisites","children":[{"level":3,"title":"Installing Zillabase CLI","slug":"installing-zillabase-cli","link":"#installing-zillabase-cli","children":[]}]},{"level":2,"title":"Setting Up the Project","slug":"setting-up-the-project","link":"#setting-up-the-project","children":[]},{"level":2,"title":"Using the Petstore APIs","slug":"using-the-petstore-apis","link":"#using-the-petstore-apis","children":[{"level":3,"title":"Endpoints","slug":"endpoints","link":"#endpoints","children":[]},{"level":3,"title":"Examples","slug":"examples","link":"#examples","children":[{"level":4,"title":"Publish a valid record","slug":"publish-a-valid-record","link":"#publish-a-valid-record","children":[]},{"level":4,"title":"Fetch a record","slug":"fetch-a-record","link":"#fetch-a-record","children":[]}]}]},{"level":2,"title":"Stopping the Project","slug":"stopping-the-project","link":"#stopping-the-project","children":[]}],"git":{"createdTime":1732866505000,"updatedTime":1736393033000,"contributors":[{"name":"cahyosubroto","email":"cahyosubroto30@gmail.com","commits":4}]},"readingTime":{"minutes":1.36,"words":409},"filePathRelative":"examples/petstore.md","localizedDate":"November 29, 2024","autoDesc":true,"excerpt":"\\n<p>The Petstore example project implements the common Petstore example, where requests are proxied to Kafka.</p>\\n<p>Zilla implements the REST endpoints defined in an AsyncAPI 3.x spec and proxies them onto Kafka topics defined in an AsyncAPI 3.x spec based on the operations defined in each spec. HTTP AsyncAPI 3.x spec and Kafka AsyncAPI 3.x spec are generated automatically based on the Kafka Cluster metadata information.</p>"}');export{d as comp,o as data};
