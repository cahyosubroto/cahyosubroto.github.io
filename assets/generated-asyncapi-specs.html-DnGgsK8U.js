import{_ as i}from"./plugin-vue_export-helper-DlAUqK2U.js";import{b as e,k as a,o as s}from"./app-BMHDS1sr.js";const n={};function c(d,t){return s(),e("div",null,t[0]||(t[0]=[a(`<h1 id="generated-asyncapi-specifications" tabindex="-1"><a class="header-anchor" href="#generated-asyncapi-specifications"><span>Generated AsyncAPI Specifications</span></a></h1><p>After defining data models and streams, Zillabase provides a generated HTTP AsyncAPI and Kafka AsyncAPI for accessing the Zillabase endpoints. This specification is different from the OpenAPI specification.</p><div class="hint-container info"><p class="hint-container-title">Info</p><p>Read <a href="https://www.asyncapi.com/docs/concepts" target="_blank" rel="noopener noreferrer">this article</a> to learn more about AsyncAPI.</p></div><h2 id="obtaining-the-asyncapi-specifications" tabindex="-1"><a class="header-anchor" href="#obtaining-the-asyncapi-specifications"><span>Obtaining the AsyncAPI Specifications</span></a></h2><p>Run either the Petstore or Streampay project example. On the project directory, run the following command to list the available AsyncAPI specifications.</p><div class="language-sh line-numbers-mode" data-highlighter="shiki" data-ext="sh" data-title="sh" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">zillabase</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> asyncapi</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> list</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># outputs</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># Registered AsyncAPI Spec:</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># http-asyncapi</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># kafka-asyncapi</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>By default, Zillabase generates two kinds of AsyncAPI specifications: HTTP AsyncAPI specification and Kafka AsyncAPI specification. To export the AsyncAPI specification, run the following commands.</p><div class="language-sh line-numbers-mode" data-highlighter="shiki" data-ext="sh" data-title="sh" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># this command extract the HTTP AsyncAPI specification to http-spec.yaml file</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">zillabase</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> asyncapi</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> show</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> http-asyncapi</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &gt; </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">http-spec.yaml</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># this command extract the Kafka AsyncAPI specification to kafka-spec.yaml file</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">zillabase</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> asyncapi</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> show</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> kafka-asyncapi</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &gt; </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">kafka-spec.yaml</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>To view the generated AsyncAPI specification, you can use <a href="https://studio.asyncapi.com/" target="_blank" rel="noopener noreferrer">AsyncAPI Studio</a>.</p><h2 id="http-specification" tabindex="-1"><a class="header-anchor" href="#http-specification"><span>HTTP Specification</span></a></h2><p>The HTTP AsyncAPI specification provides information about the HTTP server and information about its available endpoints. For every entity defined, Zillabase serves the following HTTP endpoints:</p><table><thead><tr><th><strong>Method</strong></th><th><strong>Endpoint</strong></th><th><strong>Description</strong></th></tr></thead><tbody><tr><td>GET</td><td>/&lt;entity&gt;</td><td>Fetch all entity data</td></tr><tr><td>POST</td><td>/&lt;entity&gt;</td><td>Insert an entity data</td></tr><tr><td>GET</td><td>/&lt;entity&gt;/{id}</td><td>Get entity data by id</td></tr><tr><td>PUT</td><td>/&lt;entity&gt;/{id}</td><td>Update an entity data by id</td></tr><tr><td>GET</td><td>/&lt;entity&gt;-stream</td><td>Stream entity data changes</td></tr><tr><td>GET</td><td>/&lt;entity&gt;-stream-identity</td><td>Stream entity data changes</td></tr></tbody></table><p>The <code>/&lt;entity&gt;</code> and <code>/&lt;entity&gt;/{id}</code> endpoints are regular REST API endpoints. On the other hand, <code>/&lt;entity&gt;-stream</code> and <code>/&lt;entity&gt;-stream-identity</code> endpoints is an HTTP endpoint that serves server-sent events (SSE). You can subscribe/ consume any data changes that happened to the <code>&lt;entity&gt;</code> data with the stream endpoint.</p><p>Refer to the message schema defined on the operation and channels to learn the schema for those endpoints. Every HTTP endpoint supports various input and output payload formats, such as JSON, Avro, and Protobuf. To adjust the payload formats, define the Content-Type and Accept header during the HTTP request.</p><h2 id="kafka-specification" tabindex="-1"><a class="header-anchor" href="#kafka-specification"><span>Kafka Specification</span></a></h2><p>The Kafka AsyncAPI specification provides information about the Kafka cluster and schema definition for Kafka based on our data model and stream. It defines a channel for every entity and supports publish and subscribe operations for that channel.</p>`,16)]))}const l=i(n,[["render",c],["__file","generated-asyncapi-specs.html.vue"]]),p=JSON.parse('{"path":"/products/zilla/generated-asyncapi-specs.html","title":"Generated AsyncAPI Specifications","lang":"en-US","frontmatter":{"description":"Generated AsyncAPI Specifications After defining data models and streams, Zillabase provides a generated HTTP AsyncAPI and Kafka AsyncAPI for accessing the Zillabase endpoints. ...","head":[["meta",{"property":"og:url","content":"https://docs.aklivity.io/products/zilla/generated-asyncapi-specs.html"}],["meta",{"property":"og:site_name","content":"Documentation"}],["meta",{"property":"og:title","content":"Generated AsyncAPI Specifications"}],["meta",{"property":"og:description","content":"Generated AsyncAPI Specifications After defining data models and streams, Zillabase provides a generated HTTP AsyncAPI and Kafka AsyncAPI for accessing the Zillabase endpoints. ..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"en-US"}],["meta",{"property":"og:updated_time","content":"2024-12-11T10:25:29.000Z"}],["meta",{"property":"article:modified_time","content":"2024-12-11T10:25:29.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Generated AsyncAPI Specifications\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2024-12-11T10:25:29.000Z\\",\\"author\\":[]}"]]},"headers":[{"level":2,"title":"Obtaining the AsyncAPI Specifications","slug":"obtaining-the-asyncapi-specifications","link":"#obtaining-the-asyncapi-specifications","children":[]},{"level":2,"title":"HTTP Specification","slug":"http-specification","link":"#http-specification","children":[]},{"level":2,"title":"Kafka Specification","slug":"kafka-specification","link":"#kafka-specification","children":[]}],"git":{"createdTime":1732866505000,"updatedTime":1733912729000,"contributors":[{"name":"cahyosubroto","email":"cahyosubroto30@gmail.com","commits":1}]},"readingTime":{"minutes":1.28,"words":384},"filePathRelative":"products/zilla/generated-asyncapi-specs.md","localizedDate":"November 29, 2024","autoDesc":true,"excerpt":"\\n<p>After defining data models and streams, Zillabase provides a generated HTTP AsyncAPI and Kafka AsyncAPI for accessing the Zillabase endpoints. This specification is different from the OpenAPI specification.</p>\\n<div class=\\"hint-container info\\">\\n<p class=\\"hint-container-title\\">Info</p>\\n<p>Read <a href=\\"https://www.asyncapi.com/docs/concepts\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">this article</a> to learn more about AsyncAPI.</p>\\n</div>"}');export{l as comp,p as data};
