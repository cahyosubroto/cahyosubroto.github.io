<!doctype html>
<html lang="en-US" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.17" />
    <meta name="theme" content="VuePress Theme Hope 2.0.0-rc.58" />
    <style>
      :root {
        --vp-c-bg: #fff;
      }

      [data-theme="dark"] {
        --vp-c-bg: #1b1b1f;
      }

      html,
      body {
        background: var(--vp-c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.documentElement.setAttribute("data-theme", "dark");
      }
    </script>
    <meta property="og:url" content="https://docs.aklivity.io/zilla-docs/next/solutions/how-tos/confluent-cloud/secure-public-access.html"><meta property="og:site_name" content="Documentation"><meta property="og:title" content="Confluent Cloud Secure Public Access Proxy"><meta property="og:description" content="Setup a public to your Confluent Cloud private cluster from anywhere on the internet."><meta property="og:type" content="article"><meta property="og:locale" content="en-US"><script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"Confluent Cloud Secure Public Access Proxy","image":[""],"dateModified":null,"author":[]}</script><meta name="docsearch:product" content="zilla-docs"><meta name="docsearch:version" content="next"><link rel="preconnect" href="https://H6RNUBSB6E-dsn.algolia.net" crossorigin=""><link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin=""><link href="https://fonts.googleapis.com/css2?family=Questrial&display=swap" rel="stylesheet"><link rel="icon" href="/zilla-docs/next/favicon.ico"><title>Confluent Cloud Secure Public Access Proxy | Documentation</title><meta name="description" content="Setup a public to your Confluent Cloud private cluster from anywhere on the internet.">
    <link rel="preload" href="/zilla-docs/next/assets/style-D_CRXaJP.css" as="style"><link rel="stylesheet" href="/zilla-docs/next/assets/style-D_CRXaJP.css">
    <link rel="modulepreload" href="/zilla-docs/next/assets/app-BNYstFbe.js"><link rel="modulepreload" href="/zilla-docs/next/assets/secure-public-access.html-BFB0C6mX.js"><link rel="modulepreload" href="/zilla-docs/next/assets/plugin-vue_export-helper-DlAUqK2U.js">
    <link rel="prefetch" href="/zilla-docs/next/assets/index.html-J506OEgV.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/overview.html-BSwAulHw.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/bindings.html-CHfuDUp1.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/catalogs.html-CcFLjuhf.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/guards.html-lDDOkkUJ.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/models.html-D5XQaAqg.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/protocol.html-DXaOj0SQ.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/spec-generation.html-D1ekcsOp.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/ssl.html-92tzlYPi.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/telemetry.html-DKKAqU5Z.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/use-cases.html-irvPpaHg.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/vaults.html-Ok7c27Rk.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/what-is-zilla.html-T7kg-Ipf.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/zilla-plus-aws-ecs-fargate.html-CD3YcxAo.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/grpc-proxy.html-Cvlp3wC-.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/http-proxy.html-CTS2gL_9.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/mqtt-proxy.html-Bme0DyZO.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/index.html-BQJ6TCqq.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/index.html-4ubz8tH3.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/index.html-B6rganTf.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/index.html-DarHSad7.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/index.html-B-esMo8r.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/index.html-NUVopvIe.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/index.html-C1nEfwPy.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/aiven.html-BPjymJkN.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/amazon-msk.html-BLFCeSTa.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/apache-kafka.html-Cre_egUT.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/confluent-cloud.html-CuYvUlpO.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/redpanda.html-b8MYJosG.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/autoscale-k8s.html-BmtvnCkN.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/index.html-DOcQ_h06.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/grpc.route-guide.service.html-B7S7ZFiH.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/index.html-xG0xyi5S.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/mqtt.kafka.broker.html-B4UzK3FL.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/index.html-DWs-rEav.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/opentelemetry-protocol.html-D8ni2lfE.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/overview.html-CQ2oVbqt.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/resolvers.html-nc95vwBw.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/zilla-cli.html-CAttlIqd.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/overview.html-ChnUHpEr.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/zpm-cli.html-BIO6j6Zg.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/grpc-intro.html-C9U5T0OU.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/mqtt-intro.html-ByQ2nR_g.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/rest-intro.html-Dij-zbaR.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/sse-intro.html-BXjtIUa7.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/telemetry-intro.html-DXl91FSI.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/server.html-bavHjJbz.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/apicurio-registry.html-D78EIyjB.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/aws-glue.html-KtMZcJ7n.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/confluent-schema-registry.html-Cfkb57zy.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/filesystem.html-C2gMZHXb.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/inline.html-COUOy6l-.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/karapace-schema-registry.html-BoZlAD1x.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/schema-registry.html-F-U76FF7.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/jwt.html-D6bpOZzr.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/avro.html-BCZ_X86i.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/double.html-vId7n-01.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/float.html-BfbDQRRc.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/int32.html-gW5Ba-LD.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/int64.html-D6sdyP9I.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/json.html-DeBoFvCg.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/protobuf.html-CuewHt2Y.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/string.html-BlvckZCK.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/events.html-2IX5oQjq.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/aws-acm.html-B4qf5eYN.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/aws-secrets.html-BaQX1oKz.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/filesystem.html-CQ5NG9N1.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/iot-ingest-control.html-BvEpvEKl.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/secure-public-access.html-CtWEMgfq.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/web-streaming.html-DusROczY.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/index.html-BciruvN-.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/iot-ingest-control.html-DZWlQWHk.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/web-streaming.html-BPoA-k0N.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/create-certificate-authority-acm.html-D7cg6uQz.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/create-client-certificate-acm.html-CtbLw6Mc.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/create-iam-role.html-nKakCYRX.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/create-key-pair.html-lD1f9lSY.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/create-msk-cluster.html-CS42zm-d.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/create-server-certificate-acm.html-C8EXL3cM.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/create-server-certificate-letsencrypt.html-CHspWPYk.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/create-vpc.html-C_vLpvJ4.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/launch-ec2-instance.html-kgIpvFEx.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/lookup-msk-server-names.html-BRxQukg-.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/manage-cloudformation-stack.html-DLcDNMl4.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/troubleshooting.html-Biq7Ymx4.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/index.html-B3ubYbey.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/iot-ingest-control.html-XWR8Dpp1.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/index.html-CUrFVlzk.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/iot-ingest-control.html-BNbmd9jH.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/index.html-5U8gMTQn.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/server.html-BaZ4cLmA.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/index.html-CDv8fviz.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/client.html-BqxJJ6jl.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/proxy.html-BncB0tEo.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/server.html-BMNVKnMG.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/index.html-BCnZsRNq.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/server.html-C0WU94v8.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/index.html-CwpSk7Gl.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/server.html-eecBGR51.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/index.html-CiWXTcI8.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/server.html-yWDQs8Oz.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/index.html-CyiVfckL.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/client.html-BtpeCyui.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/server.html-BFRqXQEx.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/index.html-BWKTXjgx.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/proxy.html-CLQmU-75.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/index.html-XvrxuSjm.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/client.html-_sfABlTg.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/server.html-BHV5cPKa.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/index.html-U7_cINIf.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/proxy.html-C8LekdWu.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/index.html-D9Bmpw8E.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/proxy.html-CH4z8ozS.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/index.html-CuQp51oN.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/cache_client.html-BuwVAKEJ.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/cache_server.html-D5tLA7Hf.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/client.html-DTS8NHH9.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/index.html-B7R4d_rr.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/remote_server.html-BqU6vxqo.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/index.html-BhkYR6Cw.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/proxy.html-CZ7LO-rk.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/index.html-C0g0EDpL.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/client.html-DdGRmr_n.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/server.html-BJq8-ayp.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/index.html-CEWFhmSw.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/proxy.html-DtKILoAn.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/index.html-7wnrpV5I.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/client.html-D_9qeep2.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/server.html-8KvLCjSk.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/index.html-zihsrzZK.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/proxy.html-B3azVZEI.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/index.html-CRZL3bzk.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/client.html-BuoPE-9l.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/server.html-JdjKYGz2.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/index.html-BGR9nBip.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/client.html-wob2wJBu.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/server.html-bR4CrJo9.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/index.html-qq5ApCHy.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/proxy.html-7ais9Ajj.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/index.html-DvWBhp_o.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/client.html-C7jLazYG.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/server.html-4w7U-gzi.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/index.html-n9GRS9z6.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/client.html-BGbavMB8.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/proxy.html-Cy3EKXX5.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/server.html-C_6GXye3.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/index.html-wIOj26c_.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/client.html-Del-H7Iy.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/server.html-CLSTrNYE.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/aws-cloudwatch.html-CmH0_m0s.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/otlp.html-DgEF5WkW.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/prometheus.html-B5CLyR0_.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/stdout.html-Lxt5HOz3.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/syslog.html-CrgO0DtF.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/grpc.html-B1HPlqnp.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/http.html-VWcRPGx4.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/stream.html-D6ZqYXno.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/development.html-B4yWjnM9.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/production-mutual-tls.html-J6pDpRvk.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/production.html-WeaLFMNw.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/404.html-2no8uncF.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/index.html-CdBxp1a0.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/index.html-CGXsJcM0.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/index.html-D4R_miLf.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/index.html-kktWfHXV.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/index.html-CRgaVJ1G.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/index.html-o4scxYht.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/index.html-jOErtUAX.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/index.html-Bnykb4Wy.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/index.html-DnrCUxan.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/index.html-D6T5h5WY.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/index.html-beXyB-_c.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/index.html-b29WzUp4.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/index.html-BuOq2AFz.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/index.html-raOt-eak.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/index.html-BV8ghxDe.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/index.html-D7LQ7T9v.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/index.html-Dt5DI4AI.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/index.html-Be7Vqb27.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/index.html-DEpCTTzo.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/index.html-Cth0BEyl.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/index.html-C-G06mVc.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/index.html-ClnJ2qhK.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/index.html-CYzWQlkP.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/index.html-BUEX0l8n.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/index.html-X3v0mBgU.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/index.html-BQDoQgvw.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/index.html-CRnabUTK.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/index.html-8fblXKy5.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/index.html-BZfwIZik.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/index.html-_ZDcUtqu.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/index.html-DbKyc8jm.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/index.html-B3eaRGr4.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/index.html-D1kNg38a.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/mermaid.esm.min-DWIbKc-y.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/photoswipe.esm-GXRgw7eJ.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/index-DCs6OeCW.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/ZillaPlus-jATieeTj.js" as="script"><link rel="prefetch" href="/zilla-docs/next/assets/setupDevtools-7MC2TMWH-BqcalQO-.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="vp-skip-link sr-only">Skip to main content</a><!--]--><!--[--><div class="theme-container external-link-icon pure has-toc" vp-container><!--[--><header id="navbar" class="vp-navbar" vp-navbar><div class="vp-navbar-start"><button type="button" class="vp-toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!----><!--[--><a class="route-link vp-brand" href="/zilla-docs/next/" aria-label="Take me home"><img class="vp-nav-logo light" src="/zilla-docs/next/logo.webp" alt><img class="vp-nav-logo dark" src="/zilla-docs/next/logo-dark.webp" alt><span class="vp-site-name hide-in-pad">Documentation</span></a><!--]--><!----></div><div class="vp-navbar-center"><!----><!--[--><!--[--><div id="docsearch-container" style="display:none;"></div><div><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"><svg width="15" height="15" class="DocSearch-Control-Key-Icon"><path d="M4.505 4.496h2M5.505 5.496v5M8.216 4.496l.055 5.993M10 7.5c.333.333.5.667.5 1v2M12.326 4.5v5.996M8.384 4.496c1.674 0 2.116 0 2.116 1.5s-.442 1.5-2.116 1.5M3.205 9.303c-.09.448-.277 1.21-1.241 1.203C1 10.5.5 9.513.5 8V7c0-1.57.5-2.5 1.464-2.494.964.006 1.134.598 1.24 1.342M12.553 10.5h1.953" stroke-width="1.2" stroke="currentColor" fill="none" stroke-linecap="square"></path></svg></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--><!--]--><!----></div><div class="vp-navbar-end"><!----><!--[--><nav class="vp-nav-links"><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/zilla-docs/next/how-tos/quickstart/" aria-label="Get Started"><!--[--><span class="font-icon icon fas fa-play" style=""></span><!--]-->Get Started<!----></a></div><div class="vp-nav-item hide-in-mobile"><a class="route-link route-link-active auto-link" href="/zilla-docs/next/solutions/concepts/kafka-proxies/secure-public-access.html" aria-label="Solutions"><!--[--><span class="font-icon icon fas fa-shapes" style=""></span><!--]-->Solutions<!----></a></div><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/zilla-docs/next/reference/config/overview.html" aria-label="Reference"><!--[--><span class="font-icon icon fas fa-book" style=""></span><!--]-->Reference<!----></a></div><div class="vp-nav-item hide-in-mobile"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label="version"><!--[--><span class="font-icon icon fas fa-list-ol" style=""></span>version<!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><a class="auto-link external-link" href="https://github.com/orgs/aklivity/projects/4" aria-label="Roadmap" rel="noopener noreferrer" target="_blank"><!--[--><span class="font-icon icon fas fa-bars-progress" style=""></span><!--]-->Roadmap<!----></a></li><li class="vp-dropdown-item"><a class="auto-link external-link" href="https://github.com/aklivity/zilla/releases" aria-label="Changelog" rel="noopener noreferrer" target="_blank"><!--[--><span class="font-icon icon fas fa-tag" style=""></span><!--]-->Changelog<!----></a></li><li class="vp-dropdown-item"><a class="auto-link external-link" href="https://docs.aklivity.io/zilla-docs/next" aria-label="@next" rel="noopener noreferrer" target="_blank"><!--[--><span class="font-icon icon fas fa-circle-right" style=""></span><!--]-->@next<!----></a></li></ul></button></div></div><div class="vp-nav-item hide-in-mobile"><a class="auto-link external-link" href="https://www.aklivity.io/" aria-label="aklivity" rel="noopener noreferrer" target="_blank"><!--[--><span class="font-icon icon fas fa-globe" style=""></span><!--]-->aklivity<!----></a></div></nav><div class="vp-nav-item vp-action"><a class="vp-action-link" href="https://github.com/aklivity/zilla" target="_blank" rel="noopener noreferrer" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="github icon" name="github" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><div class="vp-nav-item hide-in-mobile"><button type="button" class="vp-color-mode-switch" id="color-mode-switch"><svg xmlns="http://www.w3.org/2000/svg" class="icon auto-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="auto icon" name="auto" style="display:block;"><path d="M512 992C246.92 992 32 777.08 32 512S246.92 32 512 32s480 214.92 480 480-214.92 480-480 480zm0-840c-198.78 0-360 161.22-360 360 0 198.84 161.22 360 360 360s360-161.16 360-360c0-198.78-161.22-360-360-360zm0 660V212c165.72 0 300 134.34 300 300 0 165.72-134.28 300-300 300z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon dark-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="dark icon" name="dark" style="display:none;"><path d="M524.8 938.667h-4.267a439.893 439.893 0 0 1-313.173-134.4 446.293 446.293 0 0 1-11.093-597.334A432.213 432.213 0 0 1 366.933 90.027a42.667 42.667 0 0 1 45.227 9.386 42.667 42.667 0 0 1 10.24 42.667 358.4 358.4 0 0 0 82.773 375.893 361.387 361.387 0 0 0 376.747 82.774 42.667 42.667 0 0 1 54.187 55.04 433.493 433.493 0 0 1-99.84 154.88 438.613 438.613 0 0 1-311.467 128z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon light-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="light icon" name="light" style="display:none;"><path d="M952 552h-80a40 40 0 0 1 0-80h80a40 40 0 0 1 0 80zM801.88 280.08a41 41 0 0 1-57.96-57.96l57.96-58a41.04 41.04 0 0 1 58 58l-58 57.96zM512 752a240 240 0 1 1 0-480 240 240 0 0 1 0 480zm0-560a40 40 0 0 1-40-40V72a40 40 0 0 1 80 0v80a40 40 0 0 1-40 40zm-289.88 88.08-58-57.96a41.04 41.04 0 0 1 58-58l57.96 58a41 41 0 0 1-57.96 57.96zM192 512a40 40 0 0 1-40 40H72a40 40 0 0 1 0-80h80a40 40 0 0 1 40 40zm30.12 231.92a41 41 0 0 1 57.96 57.96l-57.96 58a41.04 41.04 0 0 1-58-58l58-57.96zM512 832a40 40 0 0 1 40 40v80a40 40 0 0 1-80 0v-80a40 40 0 0 1 40-40zm289.88-88.08 58 57.96a41.04 41.04 0 0 1-58 58l-57.96-58a41 41 0 0 1 57.96-57.96z"></path></svg></button></div><!--]--><!----><button type="button" class="vp-toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span><span class="vp-top"></span><span class="vp-middle"></span><span class="vp-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow start"></span></div><aside id="sidebar" class="vp-sidebar" vp-sidebar><!----><ul class="vp-sidebar-links"><li><section class="vp-sidebar-group"><p class="vp-sidebar-header"><span class="font-icon icon aky-zilla-plus" style=""></span><span class="vp-sidebar-title">Secure Public Access</span><!----></p><ul class="vp-sidebar-links"><li><section class="vp-sidebar-group"><p class="vp-sidebar-header clickable"><!----><a class="route-link auto-link vp-sidebar-title no-external-link-icon" href="/zilla-docs/next/solutions/concepts/kafka-proxies/secure-public-access.html" aria-label="Deployment Options"><!---->Deployment Options<!----></a><!----></p><ul class="vp-sidebar-links"></ul></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><a class="route-link auto-link vp-sidebar-title no-external-link-icon" href="/zilla-docs/next/solutions/how-tos/amazon-msk/secure-public-access/production.html" aria-label="Amazon MSK"><!---->Amazon MSK<!----></a><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><p class="vp-sidebar-header clickable exact"><!----><a class="route-link route-link-active auto-link vp-sidebar-title no-external-link-icon" href="/zilla-docs/next/solutions/how-tos/confluent-cloud/secure-public-access.html" aria-label="Confluent Cloud"><!---->Confluent Cloud<!----></a><!----></p><ul class="vp-sidebar-links"></ul></section></li></ul></section></li><li><section class="vp-sidebar-group"><p class="vp-sidebar-header"><span class="font-icon icon aky-zilla-plus" style=""></span><span class="vp-sidebar-title">IoT Ingest and Control</span><!----></p><ul class="vp-sidebar-links"><li><section class="vp-sidebar-group"><p class="vp-sidebar-header clickable"><!----><a class="route-link auto-link vp-sidebar-title no-external-link-icon" href="/zilla-docs/next/solutions/concepts/kafka-proxies/iot-ingest-control.html" aria-label="Deployment Options"><!---->Deployment Options<!----></a><!----></p><ul class="vp-sidebar-links"></ul></section></li><li><section class="vp-sidebar-group"><p class="vp-sidebar-header clickable"><!----><a class="route-link auto-link vp-sidebar-title no-external-link-icon" href="/zilla-docs/next/solutions/how-tos/amazon-msk/iot-ingest-control.html" aria-label="Amazon MSK"><!---->Amazon MSK<!----></a><!----></p><ul class="vp-sidebar-links"></ul></section></li><li><section class="vp-sidebar-group"><p class="vp-sidebar-header clickable"><!----><a class="route-link auto-link vp-sidebar-title no-external-link-icon" href="/zilla-docs/next/solutions/how-tos/confluent-cloud/iot-ingest-control.html" aria-label="Confluent Cloud"><!---->Confluent Cloud<!----></a><!----></p><ul class="vp-sidebar-links"></ul></section></li><li><section class="vp-sidebar-group"><p class="vp-sidebar-header clickable"><!----><a class="route-link auto-link vp-sidebar-title no-external-link-icon" href="/zilla-docs/next/solutions/how-tos/redpanda/iot-ingest-control.html" aria-label="Redpanda"><!---->Redpanda<!----></a><!----></p><ul class="vp-sidebar-links"></ul></section></li></ul></section></li><li><section class="vp-sidebar-group"><p class="vp-sidebar-header"><span class="font-icon icon aky-zilla-plus" style=""></span><span class="vp-sidebar-title">Web Streaming</span><!----></p><ul class="vp-sidebar-links"><li><section class="vp-sidebar-group"><p class="vp-sidebar-header clickable"><!----><a class="route-link auto-link vp-sidebar-title no-external-link-icon" href="/zilla-docs/next/solutions/concepts/kafka-proxies/web-streaming.html" aria-label="Deployment Options"><!---->Deployment Options<!----></a><!----></p><ul class="vp-sidebar-links"></ul></section></li><li><section class="vp-sidebar-group"><p class="vp-sidebar-header"><!----><span class="vp-sidebar-title">Amazon MSK</span><!----></p><ul class="vp-sidebar-links"><li><a class="auto-link external-link vp-sidebar-link" href="https://github.com/aklivity/zilla-plus-aws-templates/tree/main/amazon-msk/cdktf/web-streaming" aria-label="Terraform" rel="noopener noreferrer" target="_blank"><!---->Terraform<!----></a></li></ul></section></li></ul></section></li><li><section class="vp-sidebar-group"><p class="vp-sidebar-header"><!----><span class="vp-sidebar-title">Other Resources</span><!----></p><ul class="vp-sidebar-links"><li><section class="vp-sidebar-group"><p class="vp-sidebar-header"><!----><span class="vp-sidebar-title">AWS</span><!----></p><ul class="vp-sidebar-links"><li><a class="route-link auto-link vp-sidebar-link" href="/zilla-docs/next/solutions/how-tos/aws-services/create-msk-cluster.html" aria-label="Create an MSK Cluster"><!---->Create an MSK Cluster<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/zilla-docs/next/solutions/how-tos/aws-services/create-certificate-authority-acm.html" aria-label="Create Certificate Authority"><!---->Create Certificate Authority<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/zilla-docs/next/solutions/how-tos/aws-services/create-client-certificate-acm.html" aria-label="Create Client Certificate"><!---->Create Client Certificate<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/zilla-docs/next/solutions/how-tos/aws-services/create-iam-role.html" aria-label="Create IAM Role"><!---->Create IAM Role<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/zilla-docs/next/solutions/how-tos/aws-services/create-key-pair.html" aria-label="Create Key Pair"><!---->Create Key Pair<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/zilla-docs/next/solutions/how-tos/aws-services/create-server-certificate-acm.html" aria-label="Create Server Certificate"><!---->Create Server Certificate<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/zilla-docs/next/solutions/how-tos/aws-services/create-server-certificate-letsencrypt.html" aria-label="Create Server Certificate (LetsEncrypt)"><!---->Create Server Certificate (LetsEncrypt)<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/zilla-docs/next/solutions/how-tos/aws-services/create-vpc.html" aria-label="Create VPC"><!---->Create VPC<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/zilla-docs/next/solutions/how-tos/aws-services/launch-ec2-instance.html" aria-label="Launch EC2 Instance"><!---->Launch EC2 Instance<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/zilla-docs/next/solutions/how-tos/aws-services/lookup-msk-server-names.html" aria-label="Lookup MSK Server Names"><!---->Lookup MSK Server Names<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/zilla-docs/next/solutions/how-tos/aws-services/manage-cloudformation-stack.html" aria-label="Manage a Cloudformation Stack"><!---->Manage a Cloudformation Stack<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/zilla-docs/next/solutions/how-tos/aws-services/troubleshooting.html" aria-label="Troubleshooting"><!---->Troubleshooting<!----></a></li></ul></section></li></ul></section></li></ul><!----></aside><!--[--><!--[--><main id="main-content" class="vp-page"><!--[--><!----><!----><nav class="vp-breadcrumb disable"></nav><div class="vp-page-title"><h1><span class="font-icon icon aky-zilla-plus" style=""></span>Confluent Cloud Secure Public Access Proxy</h1><div class="page-info"><!----><!----></div><hr></div><div class="vp-toc-placeholder"><aside id="toc"><!----><div class="vp-toc-header">On This Page<button type="button" class="print-button" title="Print"><svg xmlns="http://www.w3.org/2000/svg" class="icon print-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="print icon" name="print"><path d="M819.2 364.8h-44.8V128c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v236.8h-44.8C145.067 364.8 96 413.867 96 473.6v192c0 59.733 49.067 108.8 108.8 108.8h44.8V896c0 17.067 14.933 32 32 32h460.8c17.067 0 32-14.933 32-32V774.4h44.8c59.733 0 108.8-49.067 108.8-108.8v-192c0-59.733-49.067-108.8-108.8-108.8zM313.6 160h396.8v204.8H313.6V160zm396.8 704H313.6V620.8h396.8V864zM864 665.6c0 25.6-19.2 44.8-44.8 44.8h-44.8V588.8c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v121.6h-44.8c-25.6 0-44.8-19.2-44.8-44.8v-192c0-25.6 19.2-44.8 44.8-44.8h614.4c25.6 0 44.8 19.2 44.8 44.8v192z"></path></svg></button><div class="arrow end"></div></div><div class="vp-toc-wrapper"><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#overview">Overview</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#aws-services-used">AWS services used</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#prerequisites">Prerequisites</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#create-the-confluent-cloud-cluster-in-aws-with-privatelink">Create the Confluent Cloud Cluster in AWS with PrivateLink</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#create-the-route53-hosted-zone">Create the Route53 Hosted zone</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#create-the-proxy-security-group">Create the  proxy security group</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#create-the-proxy-iam-security-role">Create the  proxy IAM security role</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level4" href="#iam-role-inline-policies">IAM role Inline Policies</a></li><!----><!--]--></ul></li><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#subscribe-via-aws-marketplace">Subscribe via AWS Marketplace</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#create-the-server-certificate">Create the Server Certificate</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#deploy-the-zilla-plus-secure-public-access-proxy">Deploy the Zilla Plus Secure Public Access Proxy</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#step-1-create-stack">Step 1. Create Stack</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#step-2-specify-stack-details">Step 2. Specify stack details</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#step-3-configure-stack-options-use-defaults">Step 3. Configure stack options: (use defaults)</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#step-4-review">Step 4. Review</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#verify-proxy-service">Verify  proxy Service</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#configure-global-dns">Configure Global DNS</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#verify-kafka-client-connectivity">Verify Kafka Client Connectivity</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#install-the-kafka-client">Install the Kafka Client</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#configure-the-kafka-client">Configure the Kafka Client</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#test-the-kafka-client">Test the Kafka Client</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level4" href="#create-a-topic">Create a Topic</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level4" href="#publish-messages">Publish messages</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level4" href="#receive-messages">Receive messages</a></li><!----><!--]--></ul></li><!--]--></ul></li><!--]--></ul><div class="vp-toc-marker" style="top:-1.7rem;"></div></div><!----></aside></div><!----><div class="theme-hope-content" vp-content><h1 id="confluent-cloud-secure-public-access-proxy" tabindex="-1"><a class="header-anchor" href="#confluent-cloud-secure-public-access-proxy"><span>Confluent Cloud Secure Public Access Proxy</span></a></h1><p class="zilla-plus-badge hint-container info"><a href="https://www.aklivity.io/products/zilla-plus" target="_blank" rel="noopener noreferrer">Available in <!--[--> Zilla<sup><span class="font-icon icon fa fa-plus" style=""></span></sup><!--]--></a></p><div class="hint-container info"><p class="hint-container-title">Estimated time to complete 20-30 minutes.</p></div><h2 id="overview" tabindex="-1"><a class="header-anchor" href="#overview"><span>Overview</span></a></h2><p>The <a href="https://aws.amazon.com/marketplace/pp/prodview-eblxkinsqbaks" target="_blank" rel="noopener noreferrer">Zilla Plus for Confluent Cloud</a> Secure Public Access proxy lets authorized Kafka clients connect, publish messages and subscribe to topics in your Confluent Cloud cluster via the internet.</p><p>In this guide we will deploy the Zilla Plus for Confluent Cloud Secure Public Access proxy and showcase globally trusted public internet connectivity to a Confluent Cloud cluster from a Kafka client, using the custom wildcard domain <code>*.example.aklivity.io</code>.</p><h3 id="aws-services-used" tabindex="-1"><a class="header-anchor" href="#aws-services-used"><span>AWS services used</span></a></h3><table><thead><tr><th>Service</th><th>Required</th><th>Usage</th><th>Quota</th></tr></thead><tbody><tr><td>Secrets Manager</td><td>Yes</td><td>Startup only</td><td><a href="https://docs.aws.amazon.com/general/latest/gr/asm.html#limits_secrets-manager" target="_blank" rel="noopener noreferrer">Not reached</a></td></tr><tr><td>Certificate Manager</td><td>No<br><br>Private key and certificate can be inline in Secrets Manager instead</td><td>Startup only</td><td><a href="https://docs.aws.amazon.com/general/latest/gr/acm.html#limits_acm" target="_blank" rel="noopener noreferrer">Not reached</a></td></tr><tr><td>Private Certificate Manager</td><td>No<br><br>Private key and certificate can be inline in Secrets Manager instead</td><td>Startup only</td><td><a href="https://docs.aws.amazon.com/general/latest/gr/acm-pca.html#limits_acm-pca" target="_blank" rel="noopener noreferrer">Not reached</a></td></tr></tbody></table><p>Default <a href="https://docs.aws.amazon.com/general/latest/gr/aws_service_limits.html" target="_blank" rel="noopener noreferrer">AWS Service Quotas</a> are recommended.</p><h2 id="prerequisites" tabindex="-1"><a class="header-anchor" href="#prerequisites"><span>Prerequisites</span></a></h2><p>Before setting up internet access to your Confluent Cloud Cluster, you will need the following:</p><ul><li>an Confluent Cloud Cluster configured for SASL/SCRAM authentication</li><li>subscription to Zilla Plus for Confluent Cloud via AWS Marketplace</li><li>an VPC security group for the <!--[--> Zilla<sup><span class="font-icon icon fa fa-plus" style=""></span></sup><!--]--> proxies</li><li>an IAM security role for the <!--[--> Zilla<sup><span class="font-icon icon fa fa-plus" style=""></span></sup><!--]--> proxies</li><li>permission to modify global DNS records for a custom domain</li></ul><div class="hint-container tip"><p class="hint-container-title">Tips</p><p>Check out the <a class="route-link" href="/zilla-docs/next/solutions/how-tos/aws-services/troubleshooting.html">Troubleshooting</a> guide if you run into any issues.</p></div><h3 id="create-the-confluent-cloud-cluster-in-aws-with-privatelink" tabindex="-1"><a class="header-anchor" href="#create-the-confluent-cloud-cluster-in-aws-with-privatelink"><span>Create the Confluent Cloud Cluster in AWS with PrivateLink</span></a></h3><blockquote><p>This creates your Confluent Cloud cluster with AWS PrivateLink in preparation for secure access via the internet.</p></blockquote><p>An Confluent Cloud cluster deployed in AWS is needed for secure remote access via the internet. The <a href="https://docs.confluent.io/cloud/current/get-started/index.html" target="_blank" rel="noopener noreferrer">Confluent Cloud Quickstart</a> will walk you through creating one. You can skip this step if you have already created an Confluent Cloud cluster with equivalent configuration. We will use the below resource names to reference the AWS resources needed in this guide.</p><ul><li>Cluster Name: <code>my-cc-cluster</code></li><li>Cluster Type: <code>Enterprise</code></li></ul><p>Your Confluent Cloud Enterprise cluster will need a network connection. You will need to create a new <a href="https://docs.confluent.io/cloud/current/networking/aws-platt.html" target="_blank" rel="noopener noreferrer">PrivateLink Attachment</a> in network management tab. You will start configuring a new network connection to get a <code>PrivateLink Service Id</code></p><ul><li>Name: <code>zilla_plus_secure_public_access</code></li><li>Add Connection <ul><li>Name: <code>zilla_plus_privatelink_service</code></li><li>Save the <code>PrivateLink Service Id</code></li></ul></li></ul><p>Confluent Cloud Enterprise needs an AWS PrivateLink connection, for this we will <a href="https://docs.aws.amazon.com/vpc/latest/userguide/create-vpc.html#create-vpc-and-other-resources" target="_blank" rel="noopener noreferrer">Create a VPC plus other VPC resources</a> with the below resource names.</p><ul><li>Name tag auto-generation: <code>my-cce-privatelink</code></li><li>VPC endpoints: <code>none</code></li><li>Create the VPC</li></ul><p>Now you will need to <a href="https://docs.aws.amazon.com/vpc/latest/privatelink/create-interface-endpoint.html" target="_blank" rel="noopener noreferrer">Setup AWS PrivateLink</a> with the below resource names.</p><ul><li>Endpoint Name: <code>my-cce-privatelink-vpce</code></li><li>Service Name: the <code>PrivateLink Service Id</code> value you saved earlier</li><li>VPC: <code>my-cce-privatelink-vpc</code></li><li>Subnets: Select <code>public</code> subnets for each availability zone</li><li>Create the Endpoint</li></ul><p>Finish the <code>zilla_plus_privatelink_service</code> connection wizard with the <code>PrivateLink Endpoint ID</code> found in your <code>my-cce-privatelink-vpce</code> from the <a href="https://console.aws.amazon.com/vpcconsole/home#Endpoints:" target="_blank" rel="noopener noreferrer">Endpoints table</a>.</p><h3 id="create-the-route53-hosted-zone" tabindex="-1"><a class="header-anchor" href="#create-the-route53-hosted-zone"><span>Create the Route53 Hosted zone</span></a></h3><blockquote><p>This creates a Route53 Hosted zone to for a generic DNS record can point to the Confluent Cloud with AWS PrivateLink used by the <!--[--> Zilla<sup><span class="font-icon icon fa fa-plus" style=""></span></sup><!--]--> proxy.</p></blockquote><p>Follow the <a href="https://console.aws.amazon.com/route53/v2/hostedzones#CreateHostedZone" target="_blank" rel="noopener noreferrer">Create Hosted Zone</a> wizard with the following parameters and defaults.</p><ul><li>Domain name: <code>&lt;Region&gt;.aws.private.confluent.cloud</code></li><li>Type: <code>Private</code></li><li>Region: <code>&lt;CC Cluster Region&gt;</code></li><li>VPC: <code>my-cce-privatelink-vpc</code></li><li>Create the hosted zone</li></ul><p>You will need to add an A Record for the wildcard to your <code>zilla_plus_privatelink_service</code> <code>my-cce-privatelink-vpce</code> VPC Endpoint has a DNS.</p><ul><li>Record Name: <code>*</code></li><li>Record Type: <code>A</code></li><li>Alias: <code>True</code></li><li>Route Traffic: <code>Alias to VPC Endpoint</code><ul><li>Region: <code>&lt;CC Cluster Region&gt;</code></li><li>Select the <code>*.vpce-svc-*</code> DNS address</li></ul></li><li>Routing policy: <code>Simple Routing</code></li><li>Evaluate Target Heath: <code>Yes</code></li><li>Create the record</li></ul><h3 id="create-the-proxy-security-group" tabindex="-1"><a class="header-anchor" href="#create-the-proxy-security-group"><span>Create the <!--[--> Zilla<sup><span class="font-icon icon fa fa-plus" style=""></span></sup><!--]--> proxy security group</span></a></h3><blockquote><p>This creates your <!--[--> Zilla<sup><span class="font-icon icon fa fa-plus" style=""></span></sup><!--]--> proxy security group to allow Kafka clients and SSH access.</p></blockquote><p>A VPC security group is needed for the <!--[--> Zilla<sup><span class="font-icon icon fa fa-plus" style=""></span></sup><!--]--> proxies when they are launched.</p><p>Follow the <a href="https://console.aws.amazon.com/vpcconsole/home#CreateSecurityGroup:" target="_blank" rel="noopener noreferrer">Create Security Group</a> wizard with the following parameters and defaults. This creates your <!--[--> Zilla<sup><span class="font-icon icon fa fa-plus" style=""></span></sup><!--]--> proxy security group to allow Kafka clients and SSH access.</p><div class="hint-container note"><p class="hint-container-title">Check your selected region</p><p>Make sure you have selected the desired region, ex: <code>US East (N. Virginia) us-east-1</code>.</p></div><ul><li>Name: <code>my-zilla-proxy-sg</code></li><li>VPC: <code>my-cce-privatelink-vpc</code></li><li>Description: <code>Kafka clients and SSH access</code></li><li>Add Inbound Rule <ul><li>Type: <code>CUSTOM TCP</code></li><li>Port Range: <code>9092</code></li><li>Source type: <code>Anywhere-IPv4</code></li></ul></li><li>Add Inbound Rule <ul><li>Type: <code>SSH</code></li><li>Source type: <code>My IP</code></li></ul></li><li>Add Outbound Rule (if not exists) <ul><li>Type: <code>All traffic</code></li><li>Destination: <code>Anywhere-IPv4</code></li></ul></li><li>Create the Security Group</li></ul><div class="hint-container warning"><p class="hint-container-title">Check your network settings</p><p>Your IP may be different when you SSH into the EC2 instance. VPNs and other networking infrastructure may cause the <code>My IP</code> inbound rule to fail. Instead, you can use one of the other ways AWS provides to execute commands in an EC2 instance.</p></div><p>Navigate to the VPC Management Console <a href="https://console.aws.amazon.com/vpc/home#securityGroups:" target="_blank" rel="noopener noreferrer">Security Groups</a> table. Select the <code>my-zilla-proxy-sg</code> security group you just created. You will create an inbound rule to allow all traffic inside itself.</p><ul><li>Add Inbound Rule <ul><li>Type: <code>All Traffic</code></li><li>Source type: <code>Custom</code></li><li>Source: <code>my-zilla-proxy-sg</code></li></ul></li></ul><p>Add the <code>my-zilla-proxy-sg</code> security group to your VPC Endpoint by finding your <code>my-cce-privatelink-vpce</code> from the <a href="https://console.aws.amazon.com/vpcconsole/home#Endpoints:" target="_blank" rel="noopener noreferrer">Endpoints table</a>.</p><ul><li>Select your VPC endpoint</li><li><code>Actions</code> menu &gt; select <code>Manage Security Groups</code></li><li>Select both security groups: <ul><li><code>default</code></li><li><code>my-zilla-proxy-sg</code></li></ul></li><li>Save the changes</li></ul><h3 id="create-the-proxy-iam-security-role" tabindex="-1"><a class="header-anchor" href="#create-the-proxy-iam-security-role"><span>Create the <!--[--> Zilla<sup><span class="font-icon icon fa fa-plus" style=""></span></sup><!--]--> proxy IAM security role</span></a></h3><blockquote><p>This creates an IAM security role to enable the required AWS services for the <!--[--> Zilla<sup><span class="font-icon icon fa fa-plus" style=""></span></sup><!--]--> proxies.</p></blockquote><p>Follow the <a class="route-link" href="/zilla-docs/next/solutions/how-tos/aws-services/create-iam-role.html">Create IAM Role</a> guide to create an IAM security role with the following parameters:</p><div class="vp-code-tabs"><div class="vp-code-tabs-nav" role="tablist"><button type="button" class="vp-code-tab-nav active" role="tab" aria-controls="codetab-493-0" aria-selected="true">Name</button><button type="button" class="vp-code-tab-nav" role="tab" aria-controls="codetab-493-1" aria-selected="false">Policies</button></div><!--[--><div class="vp-code-tab active" id="codetab-493-0" role="tabpanel" aria-expanded="true"><div class="vp-code-tab-title">Name</div><!--[--><div class="language-text" data-highlighter="shiki" data-ext="text" data-title="text" style="--shiki-light:#000000;--shiki-dark:#D4D4D4;--shiki-light-bg:#FFFFFF;--shiki-dark-bg:#1E1E1E;"><pre class="shiki shiki-themes light-plus dark-plus vp-code"><code><span class="line"><span>aklivity-zilla-proxy</span></span></code></pre></div><!--]--></div><div class="vp-code-tab" id="codetab-493-1" role="tabpanel" aria-expanded="false"><div class="vp-code-tab-title">Policies</div><!--[--><div class="language-text" data-highlighter="shiki" data-ext="text" data-title="text" style="--shiki-light:#000000;--shiki-dark:#D4D4D4;--shiki-light-bg:#FFFFFF;--shiki-dark-bg:#1E1E1E;"><pre class="shiki shiki-themes light-plus dark-plus vp-code"><code><span class="line"><span>AWSCertificateManagerReadOnly</span></span>
<span class="line"><span>AmazonSSMManagedInstanceCore</span></span></code></pre></div><!--]--></div><!--]--></div><h4 id="iam-role-inline-policies" tabindex="-1"><a class="header-anchor" href="#iam-role-inline-policies"><span>IAM role Inline Policies</span></a></h4><p>This creates an IAM security role to enable the required AWS services for the <!--[--> Zilla<sup><span class="font-icon icon fa fa-plus" style=""></span></sup><!--]--> proxies.</p><div class="vp-code-tabs"><div class="vp-code-tabs-nav" role="tablist"><button type="button" class="vp-code-tab-nav active" role="tab" aria-controls="codetab-507-0" aria-selected="true">Name</button><button type="button" class="vp-code-tab-nav" role="tab" aria-controls="codetab-507-1" aria-selected="false">JSON Summary</button></div><!--[--><div class="vp-code-tab active" id="codetab-507-0" role="tabpanel" aria-expanded="true"><div class="vp-code-tab-title">Name</div><!--[--><div class="language-text" data-highlighter="shiki" data-ext="text" data-title="text" style="--shiki-light:#000000;--shiki-dark:#D4D4D4;--shiki-light-bg:#FFFFFF;--shiki-dark-bg:#1E1E1E;"><pre class="shiki shiki-themes light-plus dark-plus vp-code"><code><span class="line"><span>CCProxySecretsManagerRead</span></span></code></pre></div><!--]--></div><div class="vp-code-tab" id="codetab-507-1" role="tabpanel" aria-expanded="false"><div class="vp-code-tab-title">JSON Summary</div><!--[--><div class="language-json" data-highlighter="shiki" data-ext="json" data-title="json" style="--shiki-light:#000000;--shiki-dark:#D4D4D4;--shiki-light-bg:#FFFFFF;--shiki-dark-bg:#1E1E1E;"><pre class="shiki shiki-themes light-plus dark-plus vp-code"><code><span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">{</span></span>
<span class="line"><span style="--shiki-light:#0451A5;--shiki-dark:#9CDCFE;">  &quot;Version&quot;</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#A31515;--shiki-dark:#CE9178;">&quot;2012-10-17&quot;</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">,</span></span>
<span class="line"><span style="--shiki-light:#0451A5;--shiki-dark:#9CDCFE;">  &quot;Statement&quot;</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">: [</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">    {</span></span>
<span class="line"><span style="--shiki-light:#0451A5;--shiki-dark:#9CDCFE;">      &quot;Sid&quot;</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#A31515;--shiki-dark:#CE9178;">&quot;VisualEditor0&quot;</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">,</span></span>
<span class="line"><span style="--shiki-light:#0451A5;--shiki-dark:#9CDCFE;">      &quot;Effect&quot;</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#A31515;--shiki-dark:#CE9178;">&quot;Allow&quot;</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">,</span></span>
<span class="line"><span style="--shiki-light:#0451A5;--shiki-dark:#9CDCFE;">      &quot;Action&quot;</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">: [</span></span>
<span class="line"><span style="--shiki-light:#A31515;--shiki-dark:#CE9178;">        &quot;secretsmanager:GetSecretValue&quot;</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">,</span></span>
<span class="line"><span style="--shiki-light:#A31515;--shiki-dark:#CE9178;">        &quot;secretsmanager:DescribeSecret&quot;</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">      ],</span></span>
<span class="line"><span style="--shiki-light:#0451A5;--shiki-dark:#9CDCFE;">      &quot;Resource&quot;</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">: [</span></span>
<span class="line"><span style="--shiki-light:#A31515;--shiki-dark:#CE9178;">        &quot;arn:aws:secretsmanager:*:*:secret:wildcard.example.aklivity.io-*&quot;</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">      ]</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">    }</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">  ]</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">}</span></span></code></pre></div><!--]--></div><!--]--></div><div class="hint-container info"><p class="hint-container-title">If you used a different secret name for your certificate key.</p><p>Replace <code>wildcard.example.aklivity.io</code> in the resource regular expression for:</p><div class="language-text" data-highlighter="shiki" data-ext="text" data-title="text" style="--shiki-light:#000000;--shiki-dark:#D4D4D4;--shiki-light-bg:#FFFFFF;--shiki-dark-bg:#1E1E1E;"><pre class="shiki shiki-themes light-plus dark-plus vp-code"><code><span class="line"><span>CCProxySecretsManagerRead</span></span></code></pre></div></div><h2 id="subscribe-via-aws-marketplace" tabindex="-1"><a class="header-anchor" href="#subscribe-via-aws-marketplace"><span>Subscribe via AWS Marketplace</span></a></h2><p>The <a href="https://aws.amazon.com/marketplace/pp/prodview-eblxkinsqbaks" target="_blank" rel="noopener noreferrer">Zilla Plus for Confluent Cloud</a> is available through the AWS Marketplace. You can skip this step if you have already subscribed to Zilla Plus for Confluent Cloud via AWS Marketplace.</p><p>To get started, visit the Proxy&#39;s Marketplace <a href="https://aws.amazon.com/marketplace/pp/prodview-eblxkinsqbaks" target="_blank" rel="noopener noreferrer">Product Page</a> and <code>Subscribe</code> to the offering. You should now see <code>Zilla Plus for Confluent Cloud</code> listed in your <a href="https://console.aws.amazon.com/marketplace" target="_blank" rel="noopener noreferrer">AWS Marketplace</a> subscriptions.</p><h2 id="create-the-server-certificate" tabindex="-1"><a class="header-anchor" href="#create-the-server-certificate"><span>Create the Server Certificate</span></a></h2><p>We need a TLS Server Certificate for your custom DNS wildcard domain that can be trusted by a Kafka Client from anywhere.</p><p>Follow the <a class="route-link" href="/zilla-docs/next/solutions/how-tos/aws-services/create-server-certificate-letsencrypt.html">Create Server Certificate (LetsEncrypt)</a> guide to create a new TLS Server Certificate. Use your own custom wildcard DNS domain in place of the example wildcard domain <code>*.example.aklivity.io</code>.</p><div class="hint-container info"><p class="hint-container-title">Info</p><p>Note the server certificate secret ARN as we will need to reference it from the Secure Public Access CloudFormation template. Make sure you have selected the desired region, ex: <code>US East (N. Virginia) us-east-1</code>.</p></div><h2 id="deploy-the-zilla-plus-secure-public-access-proxy" tabindex="-1"><a class="header-anchor" href="#deploy-the-zilla-plus-secure-public-access-proxy"><span>Deploy the Zilla Plus Secure Public Access Proxy</span></a></h2><blockquote><p>This initiates deployment of the Zilla Plus for Confluent Cloud stack via CloudFormation.</p></blockquote><p>Navigate to your <a href="https://console.aws.amazon.com/marketplace" target="_blank" rel="noopener noreferrer">AWS Marketplace</a> subscriptions and select <code>Zilla Plus for Confluent Cloud</code> to show the manage subscription page.</p><ul><li>From the <code>Agreement</code> section &gt; <code>Actions</code> menu &gt; select <code>Launch CloudFormation stack</code></li><li>Select the <code>CloudFormation Template</code> &gt; <code>Secure Public Access</code> fulfillment option</li><li>Make sure you have selected the desired region selected, such as <code>us-east-1</code></li><li>Click <code>Continue to Launch</code><ul><li>Choose the action <code>Launch CloudFormation</code></li></ul></li></ul><p>Click <code>Launch</code> to complete the <code>Create stack</code> wizard with the following details:</p><h3 id="step-1-create-stack" tabindex="-1"><a class="header-anchor" href="#step-1-create-stack"><span>Step 1. Create Stack</span></a></h3><ul><li>Prepare template: <code>Template is ready</code></li><li>Specify template: <code>Amazon S3 URL</code><ul><li>Amazon S3 URL: <code>(auto-filled)</code></li></ul></li></ul><h3 id="step-2-specify-stack-details" tabindex="-1"><a class="header-anchor" href="#step-2-specify-stack-details"><span>Step 2. Specify stack details</span></a></h3><div class="vp-code-tabs"><div class="vp-code-tabs-nav" role="tablist"><button type="button" class="vp-code-tab-nav active" role="tab" aria-controls="codetab-612-0" aria-selected="true">Stack name</button></div><!--[--><div class="vp-code-tab active" id="codetab-612-0" role="tabpanel" aria-expanded="true"><div class="vp-code-tab-title">Stack name</div><!--[--><div class="language-text" data-highlighter="shiki" data-ext="text" data-title="text" style="--shiki-light:#000000;--shiki-dark:#D4D4D4;--shiki-light-bg:#FFFFFF;--shiki-dark-bg:#1E1E1E;"><pre class="shiki shiki-themes light-plus dark-plus vp-code"><code><span class="line"><span>my-zilla-proxy</span></span></code></pre></div><!--]--></div><!--]--></div><p>Parameters:</p><ul><li>Network Configuration <ul><li>VPC: <code>my-cce-privatelink-vpc</code></li><li>Subnets: <code>my-cce-privatelink-subnet-public-1a</code> <code>my-cce-privatelink-subnet-public-1b</code></li></ul></li><li>Confluent Cloud Configuration <ul><li>Bootstrap server: <code>&lt;Cluster ID&gt;.&lt;Region&gt;.aws.private.confluent.cloud:9092</code> *1</li></ul></li><li>Zilla Plus Configuration <ul><li>Instance count: <code>2</code></li><li>Instance type: <code>t3.small</code> *2</li><li>Role: <code>aklivity-zilla-proxy</code></li><li>Security Groups: <code>my-zilla-proxy-sg</code></li><li>Secrets Manager Secret ARN: <code>&lt;TLS certificate private key secret ARN&gt;</code> *3</li><li>Public Wildcard DNS: <code>*.example.aklivity.io</code> *4</li><li>Public Port: <code>9092</code></li><li>Key pair for SSH access: <code>my-key-pair</code> *5</li></ul></li><li>*Configuration Reference <ol><li>Follow the steps in the <a href="https://docs.confluent.io/cloud/current/networking/testing.html#test-connectivity-to-ccloud" target="_blank" rel="noopener noreferrer">Test Connectivity to Confluent Cloud</a> docs to get your clusters Bootstrap server URL.</li><li>Consider the network throughput characteristics of the AWS instance type as that will impact the upper bound on network performance.</li><li>This is the ARN of the created secret for the signed certificate&#39;s private key that was returned in the last step of the <a class="route-link" href="/zilla-docs/next/solutions/how-tos/aws-services/create-server-certificate-letsencrypt.html">Create Server Certificate (LetsEncrypt)</a> guide. Make sure you have selected the desired region, ex: <code>US East (N. Virginia) us-east-1</code>.</li><li>Replace with your own custom wildcard DNS pattern.</li><li>Follow the <a class="route-link" href="/zilla-docs/next/solutions/how-tos/aws-services/create-key-pair.html">Create Key Pair</a> guide to create a new key pair to access EC2 instances via SSH.</li></ol></li></ul><h3 id="step-3-configure-stack-options-use-defaults" tabindex="-1"><a class="header-anchor" href="#step-3-configure-stack-options-use-defaults"><span>Step 3. Configure stack options: <code>(use defaults)</code></span></a></h3><h3 id="step-4-review" tabindex="-1"><a class="header-anchor" href="#step-4-review"><span>Step 4. Review</span></a></h3><p>Confirm the stack details are correct and <code>Submit</code> to start the CloudFormation deploy.</p><div class="hint-container info"><p class="hint-container-title">Info</p><p>When your <!--[--> Zilla<sup><span class="font-icon icon fa fa-plus" style=""></span></sup><!--]--> proxy is ready, the <a href="https://console.aws.amazon.com/cloudformation" target="_blank" rel="noopener noreferrer">CloudFormation console</a> will show <code>CREATE_COMPLETE</code> for the newly created stack.</p></div><h2 id="verify-proxy-service" tabindex="-1"><a class="header-anchor" href="#verify-proxy-service"><span>Verify <!--[--> Zilla<sup><span class="font-icon icon fa fa-plus" style=""></span></sup><!--]--> proxy Service</span></a></h2><blockquote><p>This checks that the services and networking were properly configured.</p></blockquote><p>Navigate to the <a href="https://console.aws.amazon.com/ec2/home#Instances:instanceState=running" target="_blank" rel="noopener noreferrer">EC2 running instances dashboard.</a></p><div class="hint-container note"><p class="hint-container-title">Check your selected region</p><p>Make sure you have selected the desired region, ex: <code>US East (N. Virginia) us-east-1</code>.</p></div><p>Select either of the <!--[--> Zilla<sup><span class="font-icon icon fa fa-plus" style=""></span></sup><!--]--> proxies launched by the CloudFormation template to show the details.</p><div class="hint-container info"><p class="hint-container-title">Info</p><p>They each have an IAM Role name starting with <code>aklivity-zilla-proxy</code>.</p></div><p>Find the <code>Public IPv4 Address</code> and then SSH into the instance.</p><div class="language-bash" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#000000;--shiki-dark:#D4D4D4;--shiki-light-bg:#FFFFFF;--shiki-dark-bg:#1E1E1E;"><pre class="shiki shiki-themes light-plus dark-plus vp-code"><code><span class="line"><span style="--shiki-light:#795E26;--shiki-dark:#DCDCAA;">ssh</span><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;"> -i</span><span style="--shiki-light:#A31515;--shiki-dark:#CE9178;"> ~/.ssh/</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">&lt;</span><span style="--shiki-light:#A31515;--shiki-dark:#CE9178;">key-pair.ce</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">r&gt; </span><span style="--shiki-light:#A31515;--shiki-dark:#CE9178;">ec2-user@</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">&lt;</span><span style="--shiki-light:#A31515;--shiki-dark:#CE9178;">instance-public-ip-addres</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">s&gt;</span></span></code></pre></div><p>After logging in via SSH, check the status of the <code>zilla-plus</code> system service.</p><div class="vp-tabs"><div class="vp-tabs-nav" role="tablist"><button type="button" class="vp-tab-nav active" role="tab" aria-controls="tab-775-0" aria-selected="true">Service is running</button><button type="button" class="vp-tab-nav" role="tab" aria-controls="tab-775-1" aria-selected="false">Check Ports</button><button type="button" class="vp-tab-nav" role="tab" aria-controls="tab-775-2" aria-selected="false">Check Zilla Logs</button><button type="button" class="vp-tab-nav" role="tab" aria-controls="tab-775-3" aria-selected="false">Check Cloud Init Logs</button></div><!--[--><div class="vp-tab active" id="tab-775-0" role="tabpanel" aria-expanded="true"><div class="vp-tab-title">Service is running</div><!--[--><p>Verify that the <code>zilla-plus</code> service is active and logging output similar to that shown below.</p><div class="language-bash" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#000000;--shiki-dark:#D4D4D4;--shiki-light-bg:#FFFFFF;--shiki-dark-bg:#1E1E1E;"><pre class="shiki shiki-themes light-plus dark-plus vp-code"><code><span class="line"><span style="--shiki-light:#795E26;--shiki-dark:#DCDCAA;">systemctl</span><span style="--shiki-light:#A31515;--shiki-dark:#CE9178;"> status</span><span style="--shiki-light:#A31515;--shiki-dark:#CE9178;"> zilla-plus.service</span></span></code></pre></div><div class="language-output" data-highlighter="shiki" data-ext="output" data-title="output" style="--shiki-light:#000000;--shiki-dark:#D4D4D4;--shiki-light-bg:#FFFFFF;--shiki-dark-bg:#1E1E1E;"><pre class="shiki shiki-themes light-plus dark-plus vp-code"><code><span class="line"><span>zilla-plus.service - Zilla Plus</span></span>
<span class="line"><span>   Loaded: loaded (/etc/systemd/system/zilla-plus.service; enabled; vendor preset: disabled)</span></span>
<span class="line"><span>   Active: active (running) since...</span></span></code></pre></div><!--]--></div><div class="vp-tab" id="tab-775-1" role="tabpanel" aria-expanded="false"><div class="vp-tab-title">Check Ports</div><!--[--><p>Check for the active ports with <code>netstat</code>.</p><div class="language-bash" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#000000;--shiki-dark:#D4D4D4;--shiki-light-bg:#FFFFFF;--shiki-dark-bg:#1E1E1E;"><pre class="shiki shiki-themes light-plus dark-plus vp-code"><code><span class="line"><span style="--shiki-light:#795E26;--shiki-dark:#DCDCAA;">netstat</span><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;"> -ntlp</span></span></code></pre></div><div class="language-output" data-highlighter="shiki" data-ext="output" data-title="output" style="--shiki-light:#000000;--shiki-dark:#D4D4D4;--shiki-light-bg:#FFFFFF;--shiki-dark-bg:#1E1E1E;"><pre class="shiki shiki-themes light-plus dark-plus vp-code"><code><span class="line"><span>tcp6    0    0 :::9092    :::*    LISTEN    1726/.zpm/image/bin</span></span></code></pre></div><!--]--></div><div class="vp-tab" id="tab-775-2" role="tabpanel" aria-expanded="false"><div class="vp-tab-title">Check Zilla Logs</div><!--[--><p>You can get an stdout dump of the <code>zilla-plus.service</code> using <code>journalctl</code>.</p><div class="language-bash" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#000000;--shiki-dark:#D4D4D4;--shiki-light-bg:#FFFFFF;--shiki-dark-bg:#1E1E1E;"><pre class="shiki shiki-themes light-plus dark-plus vp-code"><code><span class="line"><span style="--shiki-light:#795E26;--shiki-dark:#DCDCAA;">journalctl</span><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;"> -e</span><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;"> -u</span><span style="--shiki-light:#A31515;--shiki-dark:#CE9178;"> zilla-plus.service</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> | </span><span style="--shiki-light:#795E26;--shiki-dark:#DCDCAA;">tee</span><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;"> -a</span><span style="--shiki-light:#A31515;--shiki-dark:#CE9178;"> /tmp/zilla.log</span></span></code></pre></div><div class="language-output" data-highlighter="shiki" data-ext="output" data-title="output" style="--shiki-light:#000000;--shiki-dark:#D4D4D4;--shiki-light-bg:#FFFFFF;--shiki-dark-bg:#1E1E1E;"><pre class="shiki shiki-themes light-plus dark-plus vp-code"><code><span class="line"><span>systemd[1]: Started zilla-plus.service - Zilla Plus.</span></span>
<span class="line"><span>...</span></span></code></pre></div><!--]--></div><div class="vp-tab" id="tab-775-3" role="tabpanel" aria-expanded="false"><div class="vp-tab-title">Check Cloud Init Logs</div><!--[--><p>All output from cloud-init is captured by default to <code>/var/log/cloud-init-output.log</code>. There shouldn&#39;t be any errors in this log.</p><div class="language-bash" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#000000;--shiki-dark:#D4D4D4;--shiki-light-bg:#FFFFFF;--shiki-dark-bg:#1E1E1E;"><pre class="shiki shiki-themes light-plus dark-plus vp-code"><code><span class="line"><span style="--shiki-light:#795E26;--shiki-dark:#DCDCAA;">cat</span><span style="--shiki-light:#A31515;--shiki-dark:#CE9178;"> /var/log/cloud-init-output.log</span></span></code></pre></div><div class="language-output" data-highlighter="shiki" data-ext="output" data-title="output" style="--shiki-light:#000000;--shiki-dark:#D4D4D4;--shiki-light-bg:#FFFFFF;--shiki-dark-bg:#1E1E1E;"><pre class="shiki shiki-themes light-plus dark-plus vp-code"><code><span class="line"><span>Cloud-init v. 22.2.2 running &#39;init&#39;...</span></span></code></pre></div><!--]--></div><!--]--></div><p>Check the networking of the <!--[--> Zilla<sup><span class="font-icon icon fa fa-plus" style=""></span></sup><!--]--> proxy instances to confluent cloud.</p><div class="vp-tabs"><div class="vp-tabs-nav" role="tablist"><button type="button" class="vp-tab-nav active" role="tab" aria-controls="tab-808-0" aria-selected="true">DNS resolving</button><button type="button" class="vp-tab-nav" role="tab" aria-controls="tab-808-1" aria-selected="false">Check Ports</button></div><!--[--><div class="vp-tab active" id="tab-808-0" role="tabpanel" aria-expanded="true"><div class="vp-tab-title">DNS resolving</div><!--[--><p>Verify that the instance can resolve the private Route53 DNS address.</p><div class="language-bash" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#000000;--shiki-dark:#D4D4D4;--shiki-light-bg:#FFFFFF;--shiki-dark-bg:#1E1E1E;"><pre class="shiki shiki-themes light-plus dark-plus vp-code"><code><span class="line"><span style="--shiki-light:#795E26;--shiki-dark:#DCDCAA;">nslookup</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> &lt;</span><span style="--shiki-light:#A31515;--shiki-dark:#CE9178;">Cluster</span><span style="--shiki-light:#A31515;--shiki-dark:#CE9178;"> I</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">D&gt;</span><span style="--shiki-light:#A31515;--shiki-dark:#CE9178;">.</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">&lt;</span><span style="--shiki-light:#A31515;--shiki-dark:#CE9178;">Regio</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">n&gt;</span><span style="--shiki-light:#A31515;--shiki-dark:#CE9178;">.aws.private.confluent.cloud</span></span></code></pre></div><div class="language-output" data-highlighter="shiki" data-ext="output" data-title="output" style="--shiki-light:#000000;--shiki-dark:#D4D4D4;--shiki-light-bg:#FFFFFF;--shiki-dark-bg:#1E1E1E;"><pre class="shiki shiki-themes light-plus dark-plus vp-code"><code><span class="line"><span>Server:		***</span></span>
<span class="line"><span>Address:	***</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Non-authoritative answer:</span></span>
<span class="line"><span>Name:	&lt;Cluster ID&gt;.&lt;Region&gt;.aws.private.confluent.cloud</span></span>
<span class="line"><span>Address: ***</span></span></code></pre></div><!--]--></div><div class="vp-tab" id="tab-808-1" role="tabpanel" aria-expanded="false"><div class="vp-tab-title">Check Ports</div><!--[--><p>Check the communication over necessary ports with <code>netcat</code>.</p><div class="language-bash" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#000000;--shiki-dark:#D4D4D4;--shiki-light-bg:#FFFFFF;--shiki-dark-bg:#1E1E1E;"><pre class="shiki shiki-themes light-plus dark-plus vp-code"><code><span class="line"><span style="--shiki-light:#795E26;--shiki-dark:#DCDCAA;">nc</span><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;"> -vz</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> &lt;</span><span style="--shiki-light:#A31515;--shiki-dark:#CE9178;">Cluster</span><span style="--shiki-light:#A31515;--shiki-dark:#CE9178;"> I</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">D&gt;</span><span style="--shiki-light:#A31515;--shiki-dark:#CE9178;">.</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">&lt;</span><span style="--shiki-light:#A31515;--shiki-dark:#CE9178;">Regio</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">n&gt;</span><span style="--shiki-light:#A31515;--shiki-dark:#CE9178;">.aws.private.confluent.cloud</span><span style="--shiki-light:#098658;--shiki-dark:#B5CEA8;"> 9092</span></span></code></pre></div><div class="language-output" data-highlighter="shiki" data-ext="output" data-title="output" style="--shiki-light:#000000;--shiki-dark:#D4D4D4;--shiki-light-bg:#FFFFFF;--shiki-dark-bg:#1E1E1E;"><pre class="shiki shiki-themes light-plus dark-plus vp-code"><code><span class="line"><span>Connection to &lt;Cluster ID&gt;.&lt;Region&gt;.aws.private.confluent.cloud port 9092 [tcp/italk] succeeded!</span></span></code></pre></div><!--]--></div><!--]--></div><p>Repeat these steps for each of the other <!--[--> Zilla<sup><span class="font-icon icon fa fa-plus" style=""></span></sup><!--]--> proxies launched by the CloudFormation template if necessary.</p><h3 id="configure-global-dns" tabindex="-1"><a class="header-anchor" href="#configure-global-dns"><span>Configure Global DNS</span></a></h3><blockquote><p>This ensures that any new Kafka brokers added to the cluster can still be reached via the <!--[--> Zilla<sup><span class="font-icon icon fa fa-plus" style=""></span></sup><!--]--> proxy.</p></blockquote><p>When using a wildcard DNS name for your own domain, such as <code>*.example.aklivity.io</code> then the DNS entries are setup in your DNS provider.</p><p>Navigate to the <a href="https://console.aws.amazon.com/cloudformation" target="_blank" rel="noopener noreferrer">CloudFormation console</a>. Then select the <code>my-zilla-proxy</code> stack to show the details.</p><p>In the stack <code>Outputs</code> tab, find the public DNS name of the <code>NetworkLoadBalancer</code>. You need to create a <code>CNAME</code> record mapping your public DNS wildcard pattern to the public DNS name of the Network Load Balancer.</p><div class="hint-container info"><p class="hint-container-title">Info</p><p>You might prefer to use an Elastic IP address for each NLB public subnet, providing DNS targets for your <code>CNAME</code> record that can remain stable even after restarting the stack.</p><p>For testing purposes you can edit your local <code>/etc/hosts</code> file instead of updating your DNS provider.</p></div><h2 id="verify-kafka-client-connectivity" tabindex="-1"><a class="header-anchor" href="#verify-kafka-client-connectivity"><span>Verify Kafka Client Connectivity</span></a></h2><p>To verify that we have successfully enabled public internet connectivity to our Kafka cluster from the local development environment, we will use a generic Kafka client to create a topic, publish messages and then subscribe to receive these messages from our Kafka cluster via the public internet.</p><h3 id="install-the-kafka-client" tabindex="-1"><a class="header-anchor" href="#install-the-kafka-client"><span>Install the Kafka Client</span></a></h3><p>First, we must install a Java runtime that can be used by the Kafka client.</p><div class="language-bash" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#000000;--shiki-dark:#D4D4D4;--shiki-light-bg:#FFFFFF;--shiki-dark-bg:#1E1E1E;"><pre class="shiki shiki-themes light-plus dark-plus vp-code"><code><span class="line"><span style="--shiki-light:#795E26;--shiki-dark:#DCDCAA;">sudo</span><span style="--shiki-light:#A31515;--shiki-dark:#CE9178;"> yum</span><span style="--shiki-light:#A31515;--shiki-dark:#CE9178;"> install</span><span style="--shiki-light:#A31515;--shiki-dark:#CE9178;"> java-1.8.0</span></span></code></pre></div><p>Now we are ready to install the Kafka client:</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#000000;--shiki-dark:#D4D4D4;--shiki-light-bg:#FFFFFF;--shiki-dark-bg:#1E1E1E;"><pre class="shiki shiki-themes light-plus dark-plus vp-code"><code><span class="line"><span style="--shiki-light:#795E26;--shiki-dark:#DCDCAA;">wget</span><span style="--shiki-light:#A31515;--shiki-dark:#CE9178;"> https://archive.apache.org/dist/kafka/2.8.0/kafka_2.13-2.8.0.tgz</span></span>
<span class="line"><span style="--shiki-light:#795E26;--shiki-dark:#DCDCAA;">tar</span><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;"> -xzf</span><span style="--shiki-light:#A31515;--shiki-dark:#CE9178;"> kafka_2.13-2.8.0.tgz</span></span>
<span class="line"><span style="--shiki-light:#795E26;--shiki-dark:#DCDCAA;">cd</span><span style="--shiki-light:#A31515;--shiki-dark:#CE9178;"> kafka_2.13-2.8.0</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="hint-container tip"><p class="hint-container-title">Tips</p><p>We use a generic Kafka client here, however the setup for any Kafka client, including <a href="https://www.xeotek.com/apache-kafka-monitoring-management/" target="_blank" rel="noopener noreferrer">KaDeck</a>, <a href="https://www.conduktor.io/download/" target="_blank" rel="noopener noreferrer">Conduktor</a>, and <a href="https://akhq.io/" target="_blank" rel="noopener noreferrer">akhq.io</a> will be largely similar. With the <!--[--> Zilla<sup><span class="font-icon icon fa fa-plus" style=""></span></sup><!--]--> proxy you can use these GUI Kafka clients to configure and monitor your Kafka applications, clusters and streams.</p></div><h3 id="configure-the-kafka-client" tabindex="-1"><a class="header-anchor" href="#configure-the-kafka-client"><span>Configure the Kafka Client</span></a></h3><p>With the Kaka client now installed we are ready to configure it and point it at the <!--[--> Zilla<sup><span class="font-icon icon fa fa-plus" style=""></span></sup><!--]--> proxy.</p><p>The <!--[--> Zilla<sup><span class="font-icon icon fa fa-plus" style=""></span></sup><!--]--> proxy relies on encrypted SASL/SCRAM so we need to create a file called <code>confluent.properties</code> that tells the Kafka client to use <code>SASL_SSL</code> as the security protocol with SCRAM-SHA-512 encryption.</p><p>Notice we used the username and password, you will need to replace those with your own API Keys credentials. Follow the <a href="https://docs.confluent.io/cloud/current/access-management/authenticate/api-keys/api-keys.html" target="_blank" rel="noopener noreferrer">Use API Keys to Control Access in Confluent Cloud</a> to associate your API key and secret for your cluster to the <code>SASL_SSL</code> username and password.</p><div class="vp-code-tabs"><div class="vp-code-tabs-nav" role="tablist"><button type="button" class="vp-code-tab-nav active" role="tab" aria-controls="codetab-890-0" aria-selected="true">confluent.properties</button></div><!--[--><div class="vp-code-tab active" id="codetab-890-0" role="tabpanel" aria-expanded="true"><div class="vp-code-tab-title">confluent.properties</div><!--[--><div class="language-text" data-highlighter="shiki" data-ext="text" data-title="text" style="--shiki-light:#000000;--shiki-dark:#D4D4D4;--shiki-light-bg:#FFFFFF;--shiki-dark-bg:#1E1E1E;"><pre class="shiki shiki-themes light-plus dark-plus vp-code"><code><span class="line"><span># Required connection configs for Kafka producer, consumer, and admin</span></span>
<span class="line"><span>bootstrap.servers=kafka.example.aklivity.io:9092</span></span>
<span class="line"><span>#bootstrap.servers=lkc-0d9ox2.us-east-1.aws.private.confluent.cloud:9092</span></span>
<span class="line"><span>security.protocol=SASL_SSL</span></span>
<span class="line"><span>sasl.jaas.config=org.apache.kafka.common.security.plain.PlainLoginModule required username=&#39;&lt;cluser-api-key&gt;&#39; password=&#39;&lt;cluser-api-secret&gt;&#39;;</span></span>
<span class="line"><span>sasl.mechanism=PLAIN</span></span>
<span class="line"><span># Required for correctness in Apache Kafka clients prior to 2.6</span></span>
<span class="line"><span>client.dns.lookup=use_all_dns_ips</span></span></code></pre></div><!--]--></div><!--]--></div><div class="hint-container tip"><p class="hint-container-title">Tips</p><p>As the TLS certificate is signed by a globally trusted certificate authority, there is no need to configure your Kafka client to override the trusted certificate authorities.</p></div><h3 id="test-the-kafka-client" tabindex="-1"><a class="header-anchor" href="#test-the-kafka-client"><span>Test the Kafka Client</span></a></h3><blockquote><p>This verifies internet connectivity to your Confluent Cloud cluster via Zilla Plus for Confluent Cloud.</p></blockquote><p>We can now verify that the Kafka client can successfully communicate with your Confluent Cloud cluster via the internet from your local development environment to create a topic, then publish and subscribe to the same topic.</p><div class="hint-container warning"><p class="hint-container-title">Warning</p><p>Replace these TLS bootstrap server names accordingly for your own custom wildcard DNS pattern.</p></div><h4 id="create-a-topic" tabindex="-1"><a class="header-anchor" href="#create-a-topic"><span>Create a Topic</span></a></h4><p>Use the Kafka client to create a topic called <code>zilla-proxy-test</code>, replacing <code>&lt;tls-bootstrap-server-names&gt;</code> in the command below with the TLS proxy names of your <!--[--> Zilla<sup><span class="font-icon icon fa fa-plus" style=""></span></sup><!--]--> proxy:</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#000000;--shiki-dark:#D4D4D4;--shiki-light-bg:#FFFFFF;--shiki-dark-bg:#1E1E1E;"><pre class="shiki shiki-themes light-plus dark-plus vp-code"><code><span class="line"><span style="--shiki-light:#795E26;--shiki-dark:#DCDCAA;">bin/kafka-topics.sh</span><span style="--shiki-light:#EE0000;--shiki-dark:#D7BA7D;"> \</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">--create </span><span style="--shiki-light:#EE0000;--shiki-dark:#D7BA7D;">\</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">--topic </span><span style="--shiki-light:#A31515;--shiki-dark:#CE9178;">zilla-plus-test</span><span style="--shiki-light:#EE0000;--shiki-dark:#D7BA7D;"> \</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">--partitions </span><span style="--shiki-light:#098658;--shiki-dark:#B5CEA8;">3</span><span style="--shiki-light:#EE0000;--shiki-dark:#D7BA7D;"> \</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">--replication-factor </span><span style="--shiki-light:#098658;--shiki-dark:#B5CEA8;">3</span><span style="--shiki-light:#EE0000;--shiki-dark:#D7BA7D;"> \</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">--command-config </span><span style="--shiki-light:#A31515;--shiki-dark:#CE9178;">confluent.properties</span><span style="--shiki-light:#EE0000;--shiki-dark:#D7BA7D;"> \</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">--bootstrap-server &lt;</span><span style="--shiki-light:#A31515;--shiki-dark:#CE9178;">tls-bootstrap-server-name</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">s&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="hint-container tip"><p class="hint-container-title">A quick summary of what just happened</p><ol><li>The Kafka client with access to the public internet issued a request to create a new topic</li><li>This request was directed to the internet-facing Network Load Balancer</li><li>The Network Load Balancer forwarded the request to the <!--[--> Zilla<sup><span class="font-icon icon fa fa-plus" style=""></span></sup><!--]--> proxy</li><li>The <!--[--> Zilla<sup><span class="font-icon icon fa fa-plus" style=""></span></sup><!--]--> proxy routed the request to the appropriate Confluent Cloud broker</li><li>The topic was created in the Confluent Cloud broker</li><li>Public access was verified</li></ol></div><h4 id="publish-messages" tabindex="-1"><a class="header-anchor" href="#publish-messages"><span>Publish messages</span></a></h4><p>Publish two messages to the newly created topic via the following producer command:</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#000000;--shiki-dark:#D4D4D4;--shiki-light-bg:#FFFFFF;--shiki-dark-bg:#1E1E1E;"><pre class="shiki shiki-themes light-plus dark-plus vp-code"><code><span class="line"><span style="--shiki-light:#795E26;--shiki-dark:#DCDCAA;">bin/kafka-console-producer.sh</span><span style="--shiki-light:#EE0000;--shiki-dark:#D7BA7D;"> \</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">--topic </span><span style="--shiki-light:#A31515;--shiki-dark:#CE9178;">zilla-plus-test</span><span style="--shiki-light:#EE0000;--shiki-dark:#D7BA7D;"> \</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">--producer.config </span><span style="--shiki-light:#A31515;--shiki-dark:#CE9178;">confluent.properties</span><span style="--shiki-light:#EE0000;--shiki-dark:#D7BA7D;"> \</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">--broker-list &lt;</span><span style="--shiki-light:#A31515;--shiki-dark:#CE9178;">tls-bootstrap-server-name</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">s&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>A prompt will appear for you to type in the messages:</p><div class="language-output" data-highlighter="shiki" data-ext="output" data-title="output" style="--shiki-light:#000000;--shiki-dark:#D4D4D4;--shiki-light-bg:#FFFFFF;--shiki-dark-bg:#1E1E1E;"><pre class="shiki shiki-themes light-plus dark-plus vp-code"><code><span class="line"><span>&gt;This is my first event</span></span>
<span class="line"><span>&gt;This is my second event</span></span></code></pre></div><h4 id="receive-messages" tabindex="-1"><a class="header-anchor" href="#receive-messages"><span>Receive messages</span></a></h4><p>Read these messages back via the following consumer command:</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#000000;--shiki-dark:#D4D4D4;--shiki-light-bg:#FFFFFF;--shiki-dark-bg:#1E1E1E;"><pre class="shiki shiki-themes light-plus dark-plus vp-code"><code><span class="line"><span style="--shiki-light:#795E26;--shiki-dark:#DCDCAA;">bin/kafka-console-consumer.sh</span><span style="--shiki-light:#EE0000;--shiki-dark:#D7BA7D;"> \</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">--topic </span><span style="--shiki-light:#A31515;--shiki-dark:#CE9178;">zilla-plus-test</span><span style="--shiki-light:#EE0000;--shiki-dark:#D7BA7D;"> \</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">--from-beginning </span><span style="--shiki-light:#EE0000;--shiki-dark:#D7BA7D;">\</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">--consumer.config </span><span style="--shiki-light:#A31515;--shiki-dark:#CE9178;">confluent.properties</span><span style="--shiki-light:#EE0000;--shiki-dark:#D7BA7D;"> \</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">--bootstrap-server &lt;</span><span style="--shiki-light:#A31515;--shiki-dark:#CE9178;">tls-bootstrap-server-name</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">s&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>You should see the <code>This is my first event</code> and <code>This is my second event</code> messages.</p><div class="language-output" data-highlighter="shiki" data-ext="output" data-title="output" style="--shiki-light:#000000;--shiki-dark:#D4D4D4;--shiki-light-bg:#FFFFFF;--shiki-dark-bg:#1E1E1E;"><pre class="shiki shiki-themes light-plus dark-plus vp-code"><code><span class="line"><span>This is my first event</span></span>
<span class="line"><span>This is my second event</span></span></code></pre></div><div class="hint-container info"><p class="hint-container-title">Monitor the <!--[--> Zilla<sup><span class="font-icon icon fa fa-plus" style=""></span></sup><!--]--> proxy</p><p>Follow the <a class="route-link" href="/zilla-docs/next/solutions/how-tos/aws-services/manage-cloudformation-stack.html#monitoring">Monitoring the <!--[--> Zilla<sup><span class="font-icon icon fa fa-plus" style=""></span></sup><!--]--> proxy</a> instructions</p></div><div class="hint-container info"><p class="hint-container-title">Upgrade the <!--[--> Zilla<sup><span class="font-icon icon fa fa-plus" style=""></span></sup><!--]--> proxy</p><p>Follow the <a class="route-link" href="/zilla-docs/next/solutions/how-tos/aws-services/manage-cloudformation-stack.html#upgrading">Upgrading the <!--[--> Zilla<sup><span class="font-icon icon fa fa-plus" style=""></span></sup><!--]--> proxy</a> instructions</p></div></div><!----><footer class="vp-page-meta"><div class="vp-meta-item edit-link"><a class="auto-link external-link vp-meta-label" href="https://github.com/aklivity/zilla-docs/edit/develop/src/solutions/how-tos/confluent-cloud/secure-public-access.md" aria-label="Edit this page on GitHub" rel="noopener noreferrer" target="_blank"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon edit-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="edit icon" name="edit"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></svg><!--]-->Edit this page on GitHub<!----></a></div><div class="vp-meta-item git-info"><!----><!----></div></footer><nav class="vp-page-nav"><a class="route-link auto-link prev" href="/zilla-docs/next/solutions/how-tos/amazon-msk/secure-public-access/production.html" aria-label="Amazon MSK"><div class="hint"><span class="arrow start"></span>Prev</div><div class="link"><!---->Amazon MSK</div></a><!----></nav><!----><!----><!--]--></main><!--]--><!--]--><footer class="vp-footer-wrapper" vp-footer><div class="vp-footer"><span style="display:flex;align-items:center"><a href="https://www.aklivity.io"><img class="logo" alt="aklivity"></a> <a href="https://github.com/aklivity/zilla"><i class="fa-brands fa-github" style="font-size:22px;padding-right:6px"></i></a> <a href="https://www.linkedin.com/company/aklivity/"><i class="fa-brands fa-linkedin" style="font-size:22px;padding-right:6px"></i></a> <a href="https://www.aklivity.io/slack"><i class="fa-brands fa-slack" style="font-size:25px;padding-right:6px"></i></a> <a href="https://www.twitter.com/aklivityinc"><i class="fa-brands fa-twitter" style="font-size:22px"></i></a></span></div><div class="vp-copyright"> aklivity, inc. 2023-2024</div></footer></div><!--]--><!--]--><!--[--><!----><!--[--><!--]--><!--]--><!--]--></div>
    <script type="module" src="/zilla-docs/next/assets/app-BNYstFbe.js" defer></script>
  </body>
</html>
