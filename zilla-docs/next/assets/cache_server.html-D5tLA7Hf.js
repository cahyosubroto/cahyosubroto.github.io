import{_ as o}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as r,f as i,a as t,b as s,d as n,e as l,r as d,o as h}from"./app-BNYstFbe.js";const p={};function c(k,e){const a=d("RouteLink");return h(),r("div",null,[e[8]||(e[8]=i(`<h1 id="kafka-cache-server" tabindex="-1"><a class="header-anchor" href="#kafka-cache-server"><span>kafka cache_server</span></a></h1><p>The kafka cache_server binding supports proactive <code>fetch</code> of messages to keep the cache fresh in preparation for new consumers. This is enabled by configuring a list of <code>bootstrap</code> topics for the binding.</p><div class="language-yaml line-numbers-mode" data-highlighter="shiki" data-ext="yaml" data-title="yaml" style="--shiki-light:#000000;--shiki-dark:#D4D4D4;--shiki-light-bg:#FFFFFF;--shiki-dark-bg:#1E1E1E;"><pre class="shiki shiki-themes light-plus dark-plus vp-code"><code><span class="line"><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">kafka_cache_server</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">:</span></span>
<span class="line"><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">  type</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#0000FF;--shiki-dark:#CE9178;">kafka</span></span>
<span class="line highlighted"><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">  kind</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#0000FF;--shiki-dark:#CE9178;">cache_server</span></span>
<span class="line"><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">  options</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">:</span></span>
<span class="line"><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">    bootstrap</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">:</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">      - </span><span style="--shiki-light:#0000FF;--shiki-dark:#CE9178;">items-responses</span></span>
<span class="line"><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">  exit</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#0000FF;--shiki-dark:#CE9178;">kafka_client</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="configuration-required" tabindex="-1"><a class="header-anchor" href="#configuration-required"><span>Configuration (* required)</span></a></h2><h3 id="options" tabindex="-1"><a class="header-anchor" href="#options"><span>options</span></a></h3><blockquote><p><code>object</code></p></blockquote><p>The <code>cache_server</code> specific options.</p><div class="language-yaml line-numbers-mode" data-highlighter="shiki" data-ext="yaml" data-title="yaml" style="--shiki-light:#000000;--shiki-dark:#D4D4D4;--shiki-light-bg:#FFFFFF;--shiki-dark-bg:#1E1E1E;"><pre class="shiki shiki-themes light-plus dark-plus vp-code"><code><span class="line"><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">options</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">:</span></span>
<span class="line"><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">  bootstrap</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">:</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">    - </span><span style="--shiki-light:#0000FF;--shiki-dark:#CE9178;">items-requests</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">    - </span><span style="--shiki-light:#0000FF;--shiki-dark:#CE9178;">items-responses</span></span>
<span class="line"><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">  topics</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">:</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">    - </span><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">name</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#0000FF;--shiki-dark:#CE9178;">items-requests</span></span>
<span class="line"><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">      defaultOffset</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#0000FF;--shiki-dark:#CE9178;">live</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="options-bootstrap" tabindex="-1"><a class="header-anchor" href="#options-bootstrap"><span>options.bootstrap</span></a></h4><blockquote><p><code>array</code> of <code>string</code></p></blockquote><p>Topics to bootstrap in cache server even when no clients.</p><h4 id="options-topics" tabindex="-1"><a class="header-anchor" href="#options-topics"><span>options.topics</span></a></h4><blockquote><p><code>array</code> of <code>object</code></p></blockquote><p>Topic configuration.</p><h4 id="topics-name" tabindex="-1"><a class="header-anchor" href="#topics-name"><span>topics[].name</span></a></h4><blockquote><p><code>string</code></p></blockquote><p>Topic name.</p><h4 id="topics-key" tabindex="-1"><a class="header-anchor" href="#topics-key"><span>topics[].key</span></a></h4><blockquote><p><code>enum</code> [ <code>avro</code>, <code>double</code>, <code>float</code>, <code>int32</code>, <code>int64</code>, <code>json</code>, <code>protobuf</code>, <code>string</code> ], <code>object</code></p></blockquote><p>Enforce validation for key</p><h4 id="key-model" tabindex="-1"><a class="header-anchor" href="#key-model"><span>key.model*</span></a></h4><blockquote><p><code>enum</code> [ <code>avro</code>, <code>double</code>, <code>float</code>, <code>int32</code>, <code>int64</code>, <code>json</code>, <code>protobuf</code>, <code>string</code> ]</p></blockquote>`,22)),t("p",null,[e[1]||(e[1]=s("A schema or type to validate the topic's key. Refer to the individual ")),n(a,{to:"/reference/config/models/"},{default:l(()=>e[0]||(e[0]=[s("model")])),_:1}),e[2]||(e[2]=s(" docs for type specific implementation."))]),e[9]||(e[9]=i('<h4 id="topics-value" tabindex="-1"><a class="header-anchor" href="#topics-value"><span>topics[].value</span></a></h4><blockquote><p><code>enum</code> [ <code>avro</code>, <code>double</code>, <code>float</code>, <code>int32</code>, <code>int64</code>, <code>json</code>, <code>protobuf</code>, <code>string</code> ], <code>object</code></p></blockquote><p>Enforce validation for value</p><h4 id="value-model" tabindex="-1"><a class="header-anchor" href="#value-model"><span>value.model*</span></a></h4><blockquote><p><code>enum</code> [ <code>avro</code>, <code>double</code>, <code>float</code>, <code>int32</code>, <code>int64</code>, <code>json</code>, <code>protobuf</code>, <code>string</code> ]</p></blockquote>',5)),t("p",null,[e[4]||(e[4]=s("A schema or type to validate the topic's value. Refer to the individual ")),n(a,{to:"/reference/config/models/"},{default:l(()=>e[3]||(e[3]=[s("model")])),_:1}),e[5]||(e[5]=s(" docs for type specific implementation."))]),e[10]||(e[10]=i(`<h4 id="topics-defaultoffset" tabindex="-1"><a class="header-anchor" href="#topics-defaultoffset"><span>topics[].defaultOffset</span></a></h4><blockquote><p><code>enum</code> [ <code>live</code>, <code>historical</code> ]</p></blockquote><p>Fetch offset to use for new consumers</p><h4 id="topics-transforms" tabindex="-1"><a class="header-anchor" href="#topics-transforms"><span>topics[].transforms</span></a></h4><blockquote><p><code>array</code></p></blockquote><p>Extract key or value attributes from the typed Kafka message to apply to the Kafka message id or Kafka headers. The <code>extract-key</code> property must come before the <code>extract-headers</code> property if they both exist.</p><div class="language-yaml" data-highlighter="shiki" data-ext="yaml" data-title="yaml" style="--shiki-light:#000000;--shiki-dark:#D4D4D4;--shiki-light-bg:#FFFFFF;--shiki-dark-bg:#1E1E1E;"><pre class="shiki shiki-themes light-plus dark-plus vp-code"><code><span class="line"><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">transforms</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">:</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">  - </span><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">extract-key</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#0000FF;--shiki-dark:#CE9178;">\${message.key.id}</span></span></code></pre></div><div class="language-yaml line-numbers-mode" data-highlighter="shiki" data-ext="yaml" data-title="yaml" style="--shiki-light:#000000;--shiki-dark:#D4D4D4;--shiki-light-bg:#FFFFFF;--shiki-dark-bg:#1E1E1E;"><pre class="shiki shiki-themes light-plus dark-plus vp-code"><code><span class="line"><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">transforms</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">:</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">  - </span><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">extract-headers</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">:</span></span>
<span class="line"><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">      my-kafka-header</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#0000FF;--shiki-dark:#CE9178;">\${message.value.test}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-yaml line-numbers-mode" data-highlighter="shiki" data-ext="yaml" data-title="yaml" style="--shiki-light:#000000;--shiki-dark:#D4D4D4;--shiki-light-bg:#FFFFFF;--shiki-dark-bg:#1E1E1E;"><pre class="shiki shiki-themes light-plus dark-plus vp-code"><code><span class="line"><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">transforms</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">:</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">  - </span><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">extract-key</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#0000FF;--shiki-dark:#CE9178;">\${message.value.id}</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">  - </span><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">extract-headers</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">:</span></span>
<span class="line"><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">      my-kafka-header</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#0000FF;--shiki-dark:#CE9178;">\${message.value.test}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="transforms-extract-key" tabindex="-1"><a class="header-anchor" href="#transforms-extract-key"><span>transforms[].extract-key</span></a></h4><blockquote><p><code>string</code> | Pattern: <code>^\\\\$\\\\{message\\\\.(key|value)\\\\.([A-Za-z_][A-Za-z0-9_]*)\\\\}$</code></p></blockquote><p>Use a part of the Kafka message as the Kafka message key.</p><h4 id="transforms-extract-headers" tabindex="-1"><a class="header-anchor" href="#transforms-extract-headers"><span>transforms[].extract-headers</span></a></h4><blockquote><p><code>object</code> as map of named <code>string</code> properties | Pattern: <code>^\\\\$\\\\{message\\\\.(key|value)\\\\.([A-Za-z_][A-Za-z0-9_]*)\\\\}$</code></p></blockquote><p>Use a part of the Kafka message as a Kafka message header.</p><h3 id="routes" tabindex="-1"><a class="header-anchor" href="#routes"><span>routes*</span></a></h3><blockquote><p><code>array</code> of <code>object</code></p></blockquote><p>Conditional <code>kafka</code> specific routes.</p><h4 id="routes-guarded" tabindex="-1"><a class="header-anchor" href="#routes-guarded"><span>routes[].guarded</span></a></h4><blockquote><p><code>object</code> as map of named <code>array</code> of <code>string</code></p></blockquote><p>List of roles required by each named guard to authorize this route.</p><div class="language-yaml line-numbers-mode" data-highlighter="shiki" data-ext="yaml" data-title="yaml" style="--shiki-light:#000000;--shiki-dark:#D4D4D4;--shiki-light-bg:#FFFFFF;--shiki-dark-bg:#1E1E1E;"><pre class="shiki shiki-themes light-plus dark-plus vp-code"><code><span class="line"><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">routes</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">:</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">  - </span><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">guarded</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">:</span></span>
<span class="line"><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">      my_guard</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">:</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">        - </span><span style="--shiki-light:#0000FF;--shiki-dark:#CE9178;">read:items</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="routes-when" tabindex="-1"><a class="header-anchor" href="#routes-when"><span>routes[].when</span></a></h4><blockquote><p><code>array</code> of <code>object</code></p></blockquote>`,24)),t("p",null,[e[7]||(e[7]=s("List of conditions (any match) to match this route. Read more: ")),n(a,{to:"/concepts/bindings.html#when-a-route-matches"},{default:l(()=>e[6]||(e[6]=[s("When a route matches")])),_:1})]),e[11]||(e[11]=i(`<h4 id="when-topic" tabindex="-1"><a class="header-anchor" href="#when-topic"><span>when[].topic</span></a></h4><blockquote><p><code>string</code></p></blockquote><p>Topic name pattern.</p><h4 id="routes-exit" tabindex="-1"><a class="header-anchor" href="#routes-exit"><span>routes[].exit</span></a></h4><blockquote><p><code>string</code></p></blockquote><p>Next binding when following this route.</p><div class="language-yaml" data-highlighter="shiki" data-ext="yaml" data-title="yaml" style="--shiki-light:#000000;--shiki-dark:#D4D4D4;--shiki-light-bg:#FFFFFF;--shiki-dark-bg:#1E1E1E;"><pre class="shiki shiki-themes light-plus dark-plus vp-code"><code><span class="line"><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">exit</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#0000FF;--shiki-dark:#CE9178;">echo_server</span></span></code></pre></div><h3 id="exit" tabindex="-1"><a class="header-anchor" href="#exit"><span>exit</span></a></h3><blockquote><p><code>string</code></p></blockquote><p>Default exit binding when no conditional routes are viable.</p><div class="language-yaml" data-highlighter="shiki" data-ext="yaml" data-title="yaml" style="--shiki-light:#000000;--shiki-dark:#D4D4D4;--shiki-light-bg:#FFFFFF;--shiki-dark-bg:#1E1E1E;"><pre class="shiki shiki-themes light-plus dark-plus vp-code"><code><span class="line"><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">exit</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#0000FF;--shiki-dark:#CE9178;">echo_server</span></span></code></pre></div><h3 id="telemetry" tabindex="-1"><a class="header-anchor" href="#telemetry"><span>telemetry</span></a></h3><blockquote><p><code>object</code></p></blockquote><p>Defines the desired telemetry for the binding.</p><h4 id="telemetry-metrics" tabindex="-1"><a class="header-anchor" href="#telemetry-metrics"><span>telemetry.metrics</span></a></h4><blockquote><p><code>array</code></p></blockquote><p>Telemetry metrics to track</p><div class="language-yaml line-numbers-mode" data-highlighter="shiki" data-ext="yaml" data-title="yaml" style="--shiki-light:#000000;--shiki-dark:#D4D4D4;--shiki-light-bg:#FFFFFF;--shiki-dark-bg:#1E1E1E;"><pre class="shiki shiki-themes light-plus dark-plus vp-code"><code><span class="line"><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">telemetry</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">:</span></span>
<span class="line"><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">  metrics</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">:</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">    - </span><span style="--shiki-light:#0000FF;--shiki-dark:#CE9178;">stream.*</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,18))])}const m=o(p,[["render",c],["__file","cache_server.html.vue"]]),y=JSON.parse('{"path":"/reference/config/bindings/kafka/cache_server.html","title":"kafka cache_server","lang":"en-US","frontmatter":{"shortTitle":"cache_server","description":"kafka cache_server The kafka cache_server binding supports proactive fetch of messages to keep the cache fresh in preparation for new consumers. This is enabled by configuring a...","gitInclude":[".partials/cache_server.yaml","../.partials/options-kafka-topics.md","../.partials/options-kafka-topics-transforms.md",".partials/routes.md","../.partials/exit.md","../.partials/telemetry.md"],"head":[["meta",{"property":"og:url","content":"https://docs.aklivity.io/zilla-docs/next/reference/config/bindings/kafka/cache_server.html"}],["meta",{"property":"og:site_name","content":"Documentation"}],["meta",{"property":"og:title","content":"kafka cache_server"}],["meta",{"property":"og:description","content":"kafka cache_server The kafka cache_server binding supports proactive fetch of messages to keep the cache fresh in preparation for new consumers. This is enabled by configuring a..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"en-US"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"kafka cache_server\\",\\"image\\":[\\"\\"],\\"dateModified\\":null,\\"author\\":[]}"]]},"headers":[{"level":2,"title":"Configuration (* required)","slug":"configuration-required","link":"#configuration-required","children":[{"level":3,"title":"options","slug":"options","link":"#options","children":[{"level":4,"title":"options.bootstrap","slug":"options-bootstrap","link":"#options-bootstrap","children":[]},{"level":4,"title":"options.topics","slug":"options-topics","link":"#options-topics","children":[]},{"level":4,"title":"topics[].name","slug":"topics-name","link":"#topics-name","children":[]},{"level":4,"title":"topics[].key","slug":"topics-key","link":"#topics-key","children":[]},{"level":4,"title":"key.model*","slug":"key-model","link":"#key-model","children":[]},{"level":4,"title":"topics[].value","slug":"topics-value","link":"#topics-value","children":[]},{"level":4,"title":"value.model*","slug":"value-model","link":"#value-model","children":[]},{"level":4,"title":"topics[].defaultOffset","slug":"topics-defaultoffset","link":"#topics-defaultoffset","children":[]},{"level":4,"title":"topics[].transforms","slug":"topics-transforms","link":"#topics-transforms","children":[]},{"level":4,"title":"transforms[].extract-key","slug":"transforms-extract-key","link":"#transforms-extract-key","children":[]},{"level":4,"title":"transforms[].extract-headers","slug":"transforms-extract-headers","link":"#transforms-extract-headers","children":[]}]},{"level":3,"title":"routes*","slug":"routes","link":"#routes","children":[{"level":4,"title":"routes[].guarded","slug":"routes-guarded","link":"#routes-guarded","children":[]},{"level":4,"title":"routes[].when","slug":"routes-when","link":"#routes-when","children":[]},{"level":4,"title":"when[].topic","slug":"when-topic","link":"#when-topic","children":[]},{"level":4,"title":"routes[].exit","slug":"routes-exit","link":"#routes-exit","children":[]}]},{"level":3,"title":"exit","slug":"exit","link":"#exit","children":[]},{"level":3,"title":"telemetry","slug":"telemetry","link":"#telemetry","children":[{"level":4,"title":"telemetry.metrics","slug":"telemetry-metrics","link":"#telemetry-metrics","children":[]}]}]}],"readingTime":{"minutes":0.36,"words":108},"filePathRelative":"reference/config/bindings/kafka/cache_server.md","autoDesc":true}');export{m as comp,y as data};
