import{_ as h}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c,f as u,d as a,e as t,r as d,o as p,b as i,a as e}from"./app-DWA4uJ8g.js";const k={};function m(g,l){const o=d("RouteLink"),r=d("Tabs");return p(),c("div",null,[l[27]||(l[27]=u(`<h1 id="kafka-cache-client" tabindex="-1"><a class="header-anchor" href="#kafka-cache-client"><span>Kafka Cache Client</span></a></h1><p>The kafka cache_client binding supports filtering by <code>kafka</code> message key, headers or a combination of key and headers.</p><div class="language-yaml line-numbers-mode" data-highlighter="shiki" data-ext="yaml" data-title="yaml" style="--shiki-light:#000000;--shiki-dark:#D4D4D4;--shiki-light-bg:#FFFFFF;--shiki-dark-bg:#1E1E1E;"><pre class="shiki shiki-themes light-plus dark-plus vp-code"><code><span class="line"><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">kafka_cache_client</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">:</span></span>
<span class="line"><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">  type</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#0000FF;--shiki-dark:#CE9178;">kafka</span></span>
<span class="line highlighted"><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">  kind</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#0000FF;--shiki-dark:#CE9178;">cache_client</span></span>
<span class="line"><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">  exit</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#0000FF;--shiki-dark:#CE9178;">kafka_cache_server</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="cache-behavior" tabindex="-1"><a class="header-anchor" href="#cache-behavior"><span>Cache Behavior</span></a></h2><p>The <code>cache_client</code> kinds combine to provide a persistent cache of <code>kafka</code> messages per <code>topic</code> <code>partition</code> honoring the <code>kafka</code> <code>topic</code> configuration for message expiration and compaction. Messages ordering is guaranteed per <code>partition</code> and messages are merged into a unified stream for the <code>topic</code> spanning all <code>partitions</code>.</p><p>The <code>cache_client</code> kind supports filtering by <code>kafka</code> message key, headers or a combination of key and headers.</p><p>Message conflation occurs implicitly for <code>compacted</code> <code>kafka</code> topics, where a slower consumer that is not keeping up with the latest messages can safely skip over each older message that has effectively been replaced by a newer message with the same key.</p><p>When a new consumer arrives, the latest messages in the compacted topic are immediately delivered to that consumer, followed by any additional messages as they are produced to the <code>kafka</code> <code>topic</code>.</p><p>When the <code>kafka</code> <code>topic</code> is not compacted, then the binding can be configured to either replay historical messages first, or start with upcoming live messages instead.</p><p>The <code>cache_client</code> also combine to provide a staging area when producing new messages as <code>kafka</code> requires exact message length up front when producing new messages and <code>kafka</code> does not support producing multiple messages in parallel over the same network connection.</p><h2 id="configuration-required" tabindex="-1"><a class="header-anchor" href="#configuration-required"><span>Configuration (* required)</span></a></h2>`,11)),a(r,{id:"31",data:[{id:"options"},{id:"routes*"},{id:"exit"},{id:"telemetry"}]},{title0:t(({value:s,isActive:n})=>l[0]||(l[0]=[i("options")])),title1:t(({value:s,isActive:n})=>l[1]||(l[1]=[i("routes*")])),title2:t(({value:s,isActive:n})=>l[2]||(l[2]=[i("exit")])),title3:t(({value:s,isActive:n})=>l[3]||(l[3]=[i("telemetry")])),tab0:t(({value:s,isActive:n})=>[l[19]||(l[19]=e("h3",{id:"options",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#options"},[e("span",null,"options")])],-1)),l[20]||(l[20]=e("blockquote",null,[e("p",null,[e("code",null,"object")])],-1)),e("table",null,[l[18]||(l[18]=e("thead",null,[e("tr",null,[e("th",null,"Property"),e("th",null,"Type"),e("th",null,"Description")])],-1)),e("tbody",null,[l[14]||(l[14]=e("tr",null,[e("td",null,"options.topics"),e("td",null,[e("code",null,"object[]")]),e("td",null,"Topic configuration.")],-1)),l[15]||(l[15]=e("tr",null,[e("td",null,"options.topics[].name"),e("td",null,[e("code",null,"string")]),e("td",null,"Topic name.")],-1)),l[16]||(l[16]=e("tr",null,[e("td",null,"options.topics[].key"),e("td",null,[e("code",null,"enum"),i(" [ "),e("code",null,"avro"),i(", "),e("code",null,"double"),i(", "),e("code",null,"float"),i(", "),e("code",null,"int32"),i(", "),e("code",null,"int64"),i(", "),e("code",null,"json"),i(", "),e("code",null,"protobuf"),i(", "),e("code",null,"string"),i(" ], "),e("code",null,"object")]),e("td",null,"Enforce validation for key")],-1)),e("tr",null,[l[7]||(l[7]=e("td",null,"options.topics[].key.model*",-1)),l[8]||(l[8]=e("td",null,[e("code",null,"enum"),i(" [ "),e("code",null,"avro"),i(", "),e("code",null,"double"),i(", "),e("code",null,"float"),i(", "),e("code",null,"int32"),i(", "),e("code",null,"int64"),i(", "),e("code",null,"json"),i(", "),e("code",null,"protobuf"),i(", "),e("code",null,"string"),i(" ]")],-1)),e("td",null,[l[5]||(l[5]=i("A schema or type to validate the topic's key. Refer to the individual ")),a(o,{to:"/reference/config/models/"},{default:t(()=>l[4]||(l[4]=[i("model")])),_:1}),l[6]||(l[6]=i(" docs for type specific implementation."))])]),l[17]||(l[17]=e("tr",null,[e("td",null,"options.topics[].value"),e("td",null,[e("code",null,"enum"),i(" [ "),e("code",null,"avro"),i(", "),e("code",null,"double"),i(", "),e("code",null,"float"),i(", "),e("code",null,"int32"),i(", "),e("code",null,"int64"),i(", "),e("code",null,"json"),i(", "),e("code",null,"protobuf"),i(", "),e("code",null,"string"),i(" ], "),e("code",null,"object")]),e("td",null,"Enforce validation for value")],-1)),e("tr",null,[l[12]||(l[12]=e("td",null,"options.topics[].value.model*",-1)),l[13]||(l[13]=e("td",null,[e("code",null,"enum"),i(" [ "),e("code",null,"avro"),i(", "),e("code",null,"double"),i(", "),e("code",null,"float"),i(", "),e("code",null,"int32"),i(", "),e("code",null,"int64"),i(", "),e("code",null,"json"),i(", "),e("code",null,"protobuf"),i(", "),e("code",null,"string"),i(" ]")],-1)),e("td",null,[l[10]||(l[10]=i("A schema or type to validate the topic's value. Refer to the individual ")),a(o,{to:"/reference/config/models/"},{default:t(()=>l[9]||(l[9]=[i("model")])),_:1}),l[11]||(l[11]=i(" docs for type specific implementation."))])])])]),l[21]||(l[21]=e("h4",{id:"example",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#example"},[e("span",null,"Example")])],-1)),l[22]||(l[22]=e("p",null,[i("The "),e("code",null,"cache_client"),i(" specific options.")],-1)),l[23]||(l[23]=e("div",{class:"language-yaml line-numbers-mode","data-highlighter":"shiki","data-ext":"yaml","data-title":"yaml",style:{"--shiki-light":"#000000","--shiki-dark":"#D4D4D4","--shiki-light-bg":"#FFFFFF","--shiki-dark-bg":"#1E1E1E"}},[e("pre",{class:"shiki shiki-themes light-plus dark-plus vp-code"},[e("code",null,[e("span",{class:"line"},[e("span",{style:{"--shiki-light":"#800000","--shiki-dark":"#569CD6"}},"options"),e("span",{style:{"--shiki-light":"#000000","--shiki-dark":"#D4D4D4"}},":")]),i(`
`),e("span",{class:"line"},[e("span",{style:{"--shiki-light":"#800000","--shiki-dark":"#569CD6"}},"  topics"),e("span",{style:{"--shiki-light":"#000000","--shiki-dark":"#D4D4D4"}},":")]),i(`
`),e("span",{class:"line"},[e("span",{style:{"--shiki-light":"#000000","--shiki-dark":"#D4D4D4"}},"    - "),e("span",{style:{"--shiki-light":"#800000","--shiki-dark":"#569CD6"}},"name"),e("span",{style:{"--shiki-light":"#000000","--shiki-dark":"#D4D4D4"}},": "),e("span",{style:{"--shiki-light":"#0000FF","--shiki-dark":"#CE9178"}},"items-requests")])])]),e("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[e("div",{class:"line-number"}),e("div",{class:"line-number"}),e("div",{class:"line-number"})])],-1))]),tab1:t(({value:s,isActive:n})=>l[24]||(l[24]=[e("h3",{id:"routes",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#routes"},[e("span",null,"routes*")])],-1),e("blockquote",null,[e("p",null,[e("code",null,"array"),i(" of "),e("code",null,"object")])],-1),e("p",null,[i("Conditional "),e("code",null,"kafka"),i(" specific routes.")],-1),e("table",null,[e("thead",null,[e("tr",null,[e("th",null,"Property"),e("th",null,"Type"),e("th",null,"Description")])]),e("tbody",null,[e("tr",null,[e("td",null,"routes[].guarded"),e("td",null,[e("code",null,"object"),i(" as map of named "),e("code",null,"array"),i(" of "),e("code",null,"string")]),e("td",null,"List of roles required by each named guard to authorize this route.")]),e("tr",null,[e("td",null,"routes[].when"),e("td",null,[e("code",null,"array"),i(" of "),e("code",null,"object")]),e("td",null,[i("List of conditions (any match) to match this route. Read more: "),e("a",{href:"/concepts/protocol.html#when-a-route-matches",target:"_blank",rel:"noopener noreferrer"},"When a route matches")])]),e("tr",null,[e("td",null,"routes[].when[].topic"),e("td",null,[e("code",null,"string")]),e("td",null,"Topic name pattern.")]),e("tr",null,[e("td",null,"routes[].exit"),e("td",null,[e("code",null,"string")]),e("td",null,"Next binding when following this route.")])])],-1),e("h4",{id:"example-1",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#example-1"},[e("span",null,"Example")])],-1),e("div",{class:"language-yaml line-numbers-mode","data-highlighter":"shiki","data-ext":"yaml","data-title":"yaml",style:{"--shiki-light":"#000000","--shiki-dark":"#D4D4D4","--shiki-light-bg":"#FFFFFF","--shiki-dark-bg":"#1E1E1E"}},[e("pre",{class:"shiki shiki-themes light-plus dark-plus vp-code"},[e("code",null,[e("span",{class:"line"},[e("span",{style:{"--shiki-light":"#800000","--shiki-dark":"#569CD6"}},"routes"),e("span",{style:{"--shiki-light":"#000000","--shiki-dark":"#D4D4D4"}},":")]),i(`
`),e("span",{class:"line"},[e("span",{style:{"--shiki-light":"#000000","--shiki-dark":"#D4D4D4"}},"  - "),e("span",{style:{"--shiki-light":"#800000","--shiki-dark":"#569CD6"}},"exit"),e("span",{style:{"--shiki-light":"#000000","--shiki-dark":"#D4D4D4"}},": "),e("span",{style:{"--shiki-light":"#0000FF","--shiki-dark":"#CE9178"}},"echo_server")]),i(`
`),e("span",{class:"line"},[e("span",{style:{"--shiki-light":"#800000","--shiki-dark":"#569CD6"}},"    guarded"),e("span",{style:{"--shiki-light":"#000000","--shiki-dark":"#D4D4D4"}},":")]),i(`
`),e("span",{class:"line"},[e("span",{style:{"--shiki-light":"#800000","--shiki-dark":"#569CD6"}},"      my_guard"),e("span",{style:{"--shiki-light":"#000000","--shiki-dark":"#D4D4D4"}},":")]),i(`
`),e("span",{class:"line"},[e("span",{style:{"--shiki-light":"#000000","--shiki-dark":"#D4D4D4"}},"        - "),e("span",{style:{"--shiki-light":"#0000FF","--shiki-dark":"#CE9178"}},"read:items")])])]),e("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[e("div",{class:"line-number"}),e("div",{class:"line-number"}),e("div",{class:"line-number"}),e("div",{class:"line-number"}),e("div",{class:"line-number"})])],-1)])),tab2:t(({value:s,isActive:n})=>l[25]||(l[25]=[e("h3",{id:"exit",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#exit"},[e("span",null,"exit")])],-1),e("blockquote",null,[e("p",null,[e("code",null,"string")])],-1),e("p",null,"Default exit binding when no conditional routes are viable.",-1),e("div",{class:"language-yaml","data-highlighter":"shiki","data-ext":"yaml","data-title":"yaml",style:{"--shiki-light":"#000000","--shiki-dark":"#D4D4D4","--shiki-light-bg":"#FFFFFF","--shiki-dark-bg":"#1E1E1E"}},[e("pre",{class:"shiki shiki-themes light-plus dark-plus vp-code"},[e("code",null,[e("span",{class:"line"},[e("span",{style:{"--shiki-light":"#800000","--shiki-dark":"#569CD6"}},"exit"),e("span",{style:{"--shiki-light":"#000000","--shiki-dark":"#D4D4D4"}},": "),e("span",{style:{"--shiki-light":"#0000FF","--shiki-dark":"#CE9178"}},"echo_server")])])])],-1)])),tab3:t(({value:s,isActive:n})=>l[26]||(l[26]=[e("h3",{id:"telemetry",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#telemetry"},[e("span",null,"telemetry")])],-1),e("blockquote",null,[e("p",null,[e("code",null,"object")])],-1),e("p",null,"Defines the desired telemetry for the binding.",-1),e("table",null,[e("thead",null,[e("tr",null,[e("th",null,"Property"),e("th",null,"Type"),e("th",null,"Description")])]),e("tbody",null,[e("tr",null,[e("td",null,"metrics"),e("td",null,[e("code",null,"string[]")]),e("td",null,"Telemetry metrics to track.")])])],-1),e("h4",{id:"example-2",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#example-2"},[e("span",null,"Example")])],-1),e("div",{class:"language-yaml line-numbers-mode","data-highlighter":"shiki","data-ext":"yaml","data-title":"yaml",style:{"--shiki-light":"#000000","--shiki-dark":"#D4D4D4","--shiki-light-bg":"#FFFFFF","--shiki-dark-bg":"#1E1E1E"}},[e("pre",{class:"shiki shiki-themes light-plus dark-plus vp-code"},[e("code",null,[e("span",{class:"line"},[e("span",{style:{"--shiki-light":"#800000","--shiki-dark":"#569CD6"}},"telemetry"),e("span",{style:{"--shiki-light":"#000000","--shiki-dark":"#D4D4D4"}},":")]),i(`
`),e("span",{class:"line"},[e("span",{style:{"--shiki-light":"#800000","--shiki-dark":"#569CD6"}},"  metrics"),e("span",{style:{"--shiki-light":"#000000","--shiki-dark":"#D4D4D4"}},":")]),i(`
`),e("span",{class:"line"},[e("span",{style:{"--shiki-light":"#000000","--shiki-dark":"#D4D4D4"}},"    - "),e("span",{style:{"--shiki-light":"#0000FF","--shiki-dark":"#CE9178"}},"stream.*")])])]),e("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[e("div",{class:"line-number"}),e("div",{class:"line-number"}),e("div",{class:"line-number"})])],-1)])),_:1})])}const b=h(k,[["render",m],["__file","cache_client.html.vue"]]),v=JSON.parse('{"path":"/concepts/protocol/kafka/cache_client.html","title":"Kafka Cache Client","lang":"en-US","frontmatter":{"shortTitle":"Cache Client","description":"Kafka Cache Client The kafka cache_client binding supports filtering by kafka message key, headers or a combination of key and headers. Cache Behavior The cache_client kinds com...","gitInclude":[".partials/cache_client.yaml",".partials/cache-client-options.md",".partials/routes.md","../.partials/exit.md","../.partials/telemetry.md"],"head":[["meta",{"property":"og:url","content":"https://docs.aklivity.io/zilla-docs/next/concepts/protocol/kafka/cache_client.html"}],["meta",{"property":"og:site_name","content":"Documentation"}],["meta",{"property":"og:title","content":"Kafka Cache Client"}],["meta",{"property":"og:description","content":"Kafka Cache Client The kafka cache_client binding supports filtering by kafka message key, headers or a combination of key and headers. Cache Behavior The cache_client kinds com..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"en-US"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Kafka Cache Client\\",\\"image\\":[\\"\\"],\\"dateModified\\":null,\\"author\\":[]}"]]},"headers":[{"level":2,"title":"Cache Behavior","slug":"cache-behavior","link":"#cache-behavior","children":[]},{"level":2,"title":"Configuration (* required)","slug":"configuration-required","link":"#configuration-required","children":[]}],"readingTime":{"minutes":0.84,"words":253},"filePathRelative":"concepts/protocol/kafka/cache_client.md","autoDesc":true}');export{b as comp,v as data};
