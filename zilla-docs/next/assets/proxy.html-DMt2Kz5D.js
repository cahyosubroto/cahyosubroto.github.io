import{_ as l}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as h,f as e,a as i,b as a,d as p,e as d,g as n,r as k,o as r}from"./app-CKeM1Wjf.js";const c={};function o(g,s){const t=k("RouteLink");return r(),h("div",null,[s[6]||(s[6]=e(`<h1 id="http-kafka-proxy" tabindex="-1"><a class="header-anchor" href="#http-kafka-proxy"><span>http-kafka proxy</span></a></h1><p>The http-kafka proxy binding for adapting <code>http</code> request-response streams to <code>kafka</code> topic streams.</p><div class="language-yaml line-numbers-mode" data-highlighter="shiki" data-ext="yaml" data-title="yaml" style="--shiki-light:#000000;--shiki-dark:#D4D4D4;--shiki-light-bg:#FFFFFF;--shiki-dark-bg:#1E1E1E;"><pre class="shiki shiki-themes light-plus dark-plus vp-code"><code><span class="line"><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">http_kafka_proxy</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">:</span></span>
<span class="line"><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">  type</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#0000FF;--shiki-dark:#CE9178;">http-kafka</span></span>
<span class="line highlighted"><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">  kind</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#0000FF;--shiki-dark:#CE9178;">proxy</span></span>
<span class="line"><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">  routes</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">:</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">    - </span><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">when</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">:</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">        - </span><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">method</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#0000FF;--shiki-dark:#CE9178;">GET</span></span>
<span class="line"><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">          path</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#0000FF;--shiki-dark:#CE9178;">/items</span></span>
<span class="line"><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">      exit</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#0000FF;--shiki-dark:#CE9178;">kafka_cache_client</span></span>
<span class="line"><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">      with</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">:</span></span>
<span class="line"><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">        capability</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#0000FF;--shiki-dark:#CE9178;">fetch</span></span>
<span class="line"><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">        topic</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#0000FF;--shiki-dark:#CE9178;">items-snapshots</span></span>
<span class="line"><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">        merge</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">:</span></span>
<span class="line"><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">          content-type</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#0000FF;--shiki-dark:#CE9178;">application/json</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">    - </span><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">when</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">:</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">        - </span><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">method</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#0000FF;--shiki-dark:#CE9178;">GET</span></span>
<span class="line"><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">          path</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#0000FF;--shiki-dark:#CE9178;">/items/{id}</span></span>
<span class="line"><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">      exit</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#0000FF;--shiki-dark:#CE9178;">kafka_cache_client</span></span>
<span class="line"><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">      with</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">:</span></span>
<span class="line"><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">        capability</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#0000FF;--shiki-dark:#CE9178;">fetch</span></span>
<span class="line"><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">        topic</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#0000FF;--shiki-dark:#CE9178;">items-snapshots</span></span>
<span class="line"><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">        filters</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">:</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">          - </span><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">key</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#0000FF;--shiki-dark:#CE9178;">\${params.id}</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">    - </span><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">when</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">:</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">        - </span><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">method</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#0000FF;--shiki-dark:#CE9178;">PUT</span></span>
<span class="line"><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">          path</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#0000FF;--shiki-dark:#CE9178;">/items/{id}</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">        - </span><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">method</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#0000FF;--shiki-dark:#CE9178;">GET</span></span>
<span class="line"><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">          path</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#0000FF;--shiki-dark:#CE9178;">/items/{id};cid={correlationId}</span></span>
<span class="line"><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">      exit</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#0000FF;--shiki-dark:#CE9178;">kafka_cache_client</span></span>
<span class="line"><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">      with</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">:</span></span>
<span class="line"><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">        capability</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#0000FF;--shiki-dark:#CE9178;">produce</span></span>
<span class="line"><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">        topic</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#0000FF;--shiki-dark:#CE9178;">items-requests</span></span>
<span class="line"><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">        acks</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#0000FF;--shiki-dark:#CE9178;">leader_only</span></span>
<span class="line"><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">        key</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#0000FF;--shiki-dark:#CE9178;">\${params.id}</span></span>
<span class="line"><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">        reply-to</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#0000FF;--shiki-dark:#CE9178;">items-responses</span></span>
<span class="line"><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">        async</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">:</span></span>
<span class="line"><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">          location</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#0000FF;--shiki-dark:#CE9178;">/items/\${params.id};cid=\${correlationId}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="configuration-required" tabindex="-1"><a class="header-anchor" href="#configuration-required"><span>Configuration (* required)</span></a></h2><h3 id="options" tabindex="-1"><a class="header-anchor" href="#options"><span>options</span></a></h3><blockquote><p><code>object</code></p></blockquote><p><code>http-kafka</code> specific options.</p><div class="language-yaml line-numbers-mode" data-highlighter="shiki" data-ext="yaml" data-title="yaml" style="--shiki-light:#000000;--shiki-dark:#D4D4D4;--shiki-light-bg:#FFFFFF;--shiki-dark-bg:#1E1E1E;"><pre class="shiki shiki-themes light-plus dark-plus vp-code"><code><span class="line"><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">options</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">:</span></span>
<span class="line"><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">  idempotency</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">:</span></span>
<span class="line"><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">    header</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#0000FF;--shiki-dark:#CE9178;">idempotency-key</span></span>
<span class="line"><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">  correlation</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">:</span></span>
<span class="line"><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">    headers</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">:</span></span>
<span class="line"><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">      reply-to</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#0000FF;--shiki-dark:#CE9178;">zilla:reply-to</span></span>
<span class="line"><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">      correlation-id</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#0000FF;--shiki-dark:#CE9178;">zilla:correlation-id</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="options-idempotency" tabindex="-1"><a class="header-anchor" href="#options-idempotency"><span>options.idempotency</span></a></h4><blockquote><p><code>object</code></p></blockquote><p>HTTP request header used to specify the idempotency key.</p><h4 id="idempotency-header" tabindex="-1"><a class="header-anchor" href="#idempotency-header"><span>idempotency.header*</span></a></h4><blockquote><p><code>string</code> | Default: <code>idempotency-key</code></p></blockquote><p>HTTP request header name for idempotency key.</p><h4 id="options-correlation" tabindex="-1"><a class="header-anchor" href="#options-correlation"><span>options.correlation</span></a></h4><blockquote><p><code>object</code></p></blockquote><p>Kafka request message headers injected.</p><h4 id="correlation-headers" tabindex="-1"><a class="header-anchor" href="#correlation-headers"><span>correlation.headers*</span></a></h4><blockquote><p><code>object</code></p></blockquote><p>Kafka request message reply to and correlation id header names injected.</p><h4 id="headers-reply-to" tabindex="-1"><a class="header-anchor" href="#headers-reply-to"><span>headers.reply-to</span></a></h4><blockquote><p><code>string</code> | Default: <code>zilla:reply-to</code></p></blockquote><p>Kafka header name for reply-to topic.</p><h4 id="headers-correlation-id" tabindex="-1"><a class="header-anchor" href="#headers-correlation-id"><span>headers.correlation-id</span></a></h4><blockquote><p><code>string</code> | Default: <code>zilla:correlation-id</code></p></blockquote><p>Kafka header name for request-response correlation identifier.</p><h3 id="routes" tabindex="-1"><a class="header-anchor" href="#routes"><span>routes*</span></a></h3><blockquote><p><code>array</code> of <code>object</code></p></blockquote><p>Conditional <code>http-kafka</code> specific routes.</p><p>Correlated Request-Response route:</p><div class="language-yaml line-numbers-mode" data-highlighter="shiki" data-ext="yaml" data-title="yaml" style="--shiki-light:#000000;--shiki-dark:#D4D4D4;--shiki-light-bg:#FFFFFF;--shiki-dark-bg:#1E1E1E;"><pre class="shiki shiki-themes light-plus dark-plus vp-code"><code><span class="line"><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">routes</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">:</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">  - </span><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">when</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">:</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">      - </span><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">method</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#0000FF;--shiki-dark:#CE9178;">PUT</span></span>
<span class="line"><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">        path</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#0000FF;--shiki-dark:#CE9178;">/items/{id}</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">      - </span><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">method</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#0000FF;--shiki-dark:#CE9178;">GET</span></span>
<span class="line"><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">        path</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#0000FF;--shiki-dark:#CE9178;">/items/{id};cid={correlationId}</span></span>
<span class="line"><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">    exit</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#0000FF;--shiki-dark:#CE9178;">kafka_cache_client</span></span>
<span class="line"><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">    with</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">:</span></span>
<span class="line"><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">      capability</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#0000FF;--shiki-dark:#CE9178;">produce</span></span>
<span class="line"><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">      topic</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#0000FF;--shiki-dark:#CE9178;">items-requests</span></span>
<span class="line"><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">      acks</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#0000FF;--shiki-dark:#CE9178;">leader_only</span></span>
<span class="line"><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">      key</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#0000FF;--shiki-dark:#CE9178;">\${params.id}</span></span>
<span class="line"><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">      reply-to</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#0000FF;--shiki-dark:#CE9178;">items-responses</span></span>
<span class="line"><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">      async</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">:</span></span>
<span class="line"><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">        location</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#0000FF;--shiki-dark:#CE9178;">/items/\${params.id};cid=\${correlationId}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Single topic CRUD routes:</p><div class="language-yaml line-numbers-mode" data-highlighter="shiki" data-ext="yaml" data-title="yaml" style="--shiki-light:#000000;--shiki-dark:#D4D4D4;--shiki-light-bg:#FFFFFF;--shiki-dark-bg:#1E1E1E;"><pre class="shiki shiki-themes light-plus dark-plus vp-code"><code><span class="line"><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">routes</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">:</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">  - </span><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">when</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">:</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">      - </span><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">method</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#0000FF;--shiki-dark:#CE9178;">POST</span></span>
<span class="line"><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">        path</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#0000FF;--shiki-dark:#CE9178;">/items</span></span>
<span class="line"><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">    exit</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#0000FF;--shiki-dark:#CE9178;">kafka_cache_client</span></span>
<span class="line"><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">    with</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">:</span></span>
<span class="line"><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">      capability</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#0000FF;--shiki-dark:#CE9178;">produce</span></span>
<span class="line"><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">      topic</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#0000FF;--shiki-dark:#CE9178;">items-crud</span></span>
<span class="line"><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">      key</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#0000FF;--shiki-dark:#CE9178;">\${idempotencyKey}</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">  - </span><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">when</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">:</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">      - </span><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">method</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#0000FF;--shiki-dark:#CE9178;">GET</span></span>
<span class="line"><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">        path</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#0000FF;--shiki-dark:#CE9178;">/items</span></span>
<span class="line"><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">    exit</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#0000FF;--shiki-dark:#CE9178;">kafka_cache_client</span></span>
<span class="line"><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">    with</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">:</span></span>
<span class="line"><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">      capability</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#0000FF;--shiki-dark:#CE9178;">fetch</span></span>
<span class="line"><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">      topic</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#0000FF;--shiki-dark:#CE9178;">items-snapshots</span></span>
<span class="line"><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">      merge</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">:</span></span>
<span class="line"><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">        content-type</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#0000FF;--shiki-dark:#CE9178;">application/json</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">  - </span><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">when</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">:</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">      - </span><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">method</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#0000FF;--shiki-dark:#CE9178;">GET</span></span>
<span class="line"><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">        path</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#0000FF;--shiki-dark:#CE9178;">/items/{id}</span></span>
<span class="line"><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">    exit</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#0000FF;--shiki-dark:#CE9178;">kafka_cache_client</span></span>
<span class="line"><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">    with</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">:</span></span>
<span class="line"><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">      capability</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#0000FF;--shiki-dark:#CE9178;">fetch</span></span>
<span class="line"><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">      topic</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#0000FF;--shiki-dark:#CE9178;">items-snapshots</span></span>
<span class="line"><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">      filters</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">:</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">        - </span><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">key</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#0000FF;--shiki-dark:#CE9178;">\${params.id}</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">  - </span><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">when</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">:</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">      - </span><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">path</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#0000FF;--shiki-dark:#CE9178;">/items/{id}</span></span>
<span class="line"><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">    exit</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#0000FF;--shiki-dark:#CE9178;">kafka_cache_client</span></span>
<span class="line"><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">    with</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">:</span></span>
<span class="line"><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">      capability</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#0000FF;--shiki-dark:#CE9178;">produce</span></span>
<span class="line"><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">      topic</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#0000FF;--shiki-dark:#CE9178;">items-crud</span></span>
<span class="line"><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">      key</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#0000FF;--shiki-dark:#CE9178;">\${params.id}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="routes-guarded" tabindex="-1"><a class="header-anchor" href="#routes-guarded"><span>routes[].guarded</span></a></h4><blockquote><p><code>object</code> as map of named <code>array</code> of <code>string</code></p></blockquote><p>Roles required by named guard.</p><div class="language-yaml line-numbers-mode" data-highlighter="shiki" data-ext="yaml" data-title="yaml" style="--shiki-light:#000000;--shiki-dark:#D4D4D4;--shiki-light-bg:#FFFFFF;--shiki-dark-bg:#1E1E1E;"><pre class="shiki shiki-themes light-plus dark-plus vp-code"><code><span class="line"><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">routes</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">:</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">  - </span><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">guarded</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">:</span></span>
<span class="line"><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">      my_guard</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">:</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">        - </span><span style="--shiki-light:#0000FF;--shiki-dark:#CE9178;">read:items</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="routes-when" tabindex="-1"><a class="header-anchor" href="#routes-when"><span>routes[].when</span></a></h4><blockquote><p><code>array</code> of <code>object</code></p></blockquote>`,39)),i("p",null,[s[1]||(s[1]=a("List of conditions (any match) to match this route when adapting ")),s[2]||(s[2]=i("code",null,"http",-1)),s[3]||(s[3]=a(" request-response streams to ")),s[4]||(s[4]=i("code",null,"kafka",-1)),s[5]||(s[5]=a(" topic streams. Read more: ")),p(t,{to:"/concepts/bindings.html#when-a-route-matches"},{default:d(()=>s[0]||(s[0]=[a("When a route matches")])),_:1})]),s[7]||(s[7]=e(`<div class="language-yaml line-numbers-mode" data-highlighter="shiki" data-ext="yaml" data-title="yaml" style="--shiki-light:#000000;--shiki-dark:#D4D4D4;--shiki-light-bg:#FFFFFF;--shiki-dark-bg:#1E1E1E;"><pre class="shiki shiki-themes light-plus dark-plus vp-code"><code><span class="line"><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">routes</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">:</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">  - </span><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">when</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">:</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">      - </span><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">method</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#0000FF;--shiki-dark:#CE9178;">GET</span></span>
<span class="line"><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">        path</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#0000FF;--shiki-dark:#CE9178;">/items/{id};cid={correlationId}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="when-method" tabindex="-1"><a class="header-anchor" href="#when-method"><span>when[].method</span></a></h4><blockquote><p><code>string</code></p></blockquote><p>HTTP Method, such as <code>GET</code>, <code>HEAD</code>, <code>POST</code>, <code>PUT</code>, <code>DELETE</code>, <code>CONNECT</code>, <code>OPTIONS</code>, <code>TRACE</code>, <code>PATCH</code>.</p><h4 id="when-path" tabindex="-1"><a class="header-anchor" href="#when-path"><span>when[].path</span></a></h4><blockquote><p><code>string</code> | Pattern: <code>^/</code></p></blockquote><p>Path with optional embedded parameter names, such as <code>/{topic}</code>.</p><h4 id="routes-exit" tabindex="-1"><a class="header-anchor" href="#routes-exit"><span>routes[].exit</span></a></h4><blockquote><p><code>string</code></p></blockquote><p>Next binding when following this route.</p><div class="language-yaml line-numbers-mode" data-highlighter="shiki" data-ext="yaml" data-title="yaml" style="--shiki-light:#000000;--shiki-dark:#D4D4D4;--shiki-light-bg:#FFFFFF;--shiki-dark-bg:#1E1E1E;"><pre class="shiki shiki-themes light-plus dark-plus vp-code"><code><span class="line"><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">routes</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">:</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">  - </span><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">when</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">:</span></span>
<span class="line"><span style="--shiki-light:#098658;--shiki-dark:#B5CEA8;">    ...</span></span>
<span class="line"><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">    exit</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#0000FF;--shiki-dark:#CE9178;">kafka_cache_client</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="routes-with" tabindex="-1"><a class="header-anchor" href="#routes-with"><span>routes[].with*</span></a></h4><blockquote><p><code>object</code></p></blockquote><p>Defines the route with the <a href="#with-capability-fetch">Fetch</a> capability.</p><div class="language-yaml" data-highlighter="shiki" data-ext="yaml" data-title="yaml" style="--shiki-light:#000000;--shiki-dark:#D4D4D4;--shiki-light-bg:#FFFFFF;--shiki-dark-bg:#1E1E1E;"><pre class="shiki shiki-themes light-plus dark-plus vp-code"><code><span class="line"><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">with</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">:</span></span>
<span class="line"><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">  capability</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#0000FF;--shiki-dark:#CE9178;">fetch</span></span></code></pre></div><p>Defines the route with the <a href="#with-capability-produce">Produce</a> capability.</p><div class="language-yaml" data-highlighter="shiki" data-ext="yaml" data-title="yaml" style="--shiki-light:#000000;--shiki-dark:#D4D4D4;--shiki-light-bg:#FFFFFF;--shiki-dark-bg:#1E1E1E;"><pre class="shiki shiki-themes light-plus dark-plus vp-code"><code><span class="line"><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">with</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">:</span></span>
<span class="line"><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">  capability</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#0000FF;--shiki-dark:#CE9178;">produce</span></span></code></pre></div><h4 id="with-capability-fetch" tabindex="-1"><a class="header-anchor" href="#with-capability-fetch"><span>with.capability: fetch*</span></a></h4><blockquote><p><code>const</code></p></blockquote><p>Kafka parameters for matched route when adapting <code>http</code> request-response streams to <code>kafka</code> topic fetch streams.</p><p>Routes with <code>fetch</code> capability map <code>http</code> <code>GET</code> requests to a <code>kafka</code> log-compacted topic, supporting filtered retrieval of messages with a specific key, or unfiltered retrieval of all messages with distinct keys in the topic merged into a unified response.</p><p>Filtering can be performed by <code>kafka</code> message key, message headers, or a combination of both message key and headers, extracting the parameter values from the inbound <code>http</code> request path.</p><p>Status <code>200</code> <code>http</code> responses include an <code>etag</code> header that can be used with <code>if-none-match</code> for subsequent conditional <code>GET</code> requests to check for updates. Rather than polling, <code>http</code> requests can also include the <code>prefer: wait=N</code> header to wait a maximum of <code>N</code> seconds before responding with <code>304</code> if not modified. When a new message arrives in the topic that would modify the response, then all <code>prefer: wait=N</code> clients receive the response immediately.</p><div class="language-yaml line-numbers-mode" data-highlighter="shiki" data-ext="yaml" data-title="yaml" style="--shiki-light:#000000;--shiki-dark:#D4D4D4;--shiki-light-bg:#FFFFFF;--shiki-dark-bg:#1E1E1E;"><pre class="shiki shiki-themes light-plus dark-plus vp-code"><code><span class="line"><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">with</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">:</span></span>
<span class="line"><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">  capability</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#0000FF;--shiki-dark:#CE9178;">fetch</span></span>
<span class="line"><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">  topic</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#0000FF;--shiki-dark:#CE9178;">items-snapshots</span></span>
<span class="line"><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">  filters</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">:</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">    - </span><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">key</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#0000FF;--shiki-dark:#CE9178;">\${params.id}</span></span>
<span class="line"><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">  merge</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">:</span></span>
<span class="line"><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">    content-type</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#0000FF;--shiki-dark:#CE9178;">application/json</span></span>
<span class="line"><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">    patch</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">:</span></span>
<span class="line"><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">      initial</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">: []</span></span>
<span class="line"><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">      path</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#0000FF;--shiki-dark:#CE9178;">/-</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="with-topic" tabindex="-1"><a class="header-anchor" href="#with-topic"><span>with.topic*</span></a></h4><blockquote><p><code>string</code></p></blockquote><p>Topic name, optionally referencing path parameter such as <code>\${params.topic}</code>.</p><h4 id="with-filters" tabindex="-1"><a class="header-anchor" href="#with-filters"><span>with.filters</span></a></h4><blockquote><p><code>array</code> of <code>object</code></p></blockquote><p>List of criteria (any match) to this filter. Kafka filters for matched route when adapting <code>http</code> request-response streams to <code>kafka</code> topic fetch streams. All specified headers and key must match for the combined criteria to match.</p><h4 id="filters-key" tabindex="-1"><a class="header-anchor" href="#filters-key"><span>filters[].key</span></a></h4><blockquote><p><code>string</code></p></blockquote><p>Message key, optionally referencing path parameter such as <code>\${params.key}</code>.</p><h4 id="filters-headers" tabindex="-1"><a class="header-anchor" href="#filters-headers"><span>filters[].headers</span></a></h4><blockquote><p><code>object</code> as map of named <code>string</code> properties</p></blockquote><p>Message headers, with value optionally referencing path parameter such as <code>\${params.headerX}</code>.</p><h4 id="with-merge" tabindex="-1"><a class="header-anchor" href="#with-merge"><span>with.merge</span></a></h4><blockquote><p><code>object</code></p></blockquote><p>Merge multiple Kafka messages into a unified HTTP response. Kafka merge configuration for matched route when adapting <code>http</code> request-response streams to <code>kafka</code> topic streams where all messages are fetched and must be merged into a unified <code>http</code> response.</p><h4 id="merge-content-type-application-json" tabindex="-1"><a class="header-anchor" href="#merge-content-type-application-json"><span>merge.content-type: application/json*</span></a></h4><blockquote><p><code>const</code></p></blockquote><p>Content type of merged HTTP response.</p><h4 id="merge-patch" tabindex="-1"><a class="header-anchor" href="#merge-patch"><span>merge.patch</span></a></h4><blockquote><p><code>object</code></p></blockquote><p>Describes how to patch initial HTTP response to include one or more Kafka messages in unified HTTP response.</p><ul><li><p>patch (application/json)</p><p>Kafka merge patch configuration for matched route when adapting <code>http</code> request-response streams to <code>kafka</code> topic streams where all messages are fetched and must be merged into a unified <code>http</code> response.</p></li></ul><h4 id="patch-initial" tabindex="-1"><a class="header-anchor" href="#patch-initial"><span>patch.initial: []*</span></a></h4><blockquote><p><code>const</code></p></blockquote><p>Initial JSON value.</p><h4 id="patch-path" tabindex="-1"><a class="header-anchor" href="#patch-path"><span>patch.path: /-*</span></a></h4><blockquote><p><code>const</code></p></blockquote><p>JSON Patch path to include each Kafka message in unified HTTP response.</p><h4 id="with-capability-produce" tabindex="-1"><a class="header-anchor" href="#with-capability-produce"><span>with.capability: produce*</span></a></h4><blockquote><p><code>const</code></p></blockquote><p>Kafka parameters for matched route when adapting <code>http</code> request-response streams to <code>kafka</code> topic produce streams.</p><p>Routes with <code>produce</code> capability map any <code>http</code> request-response to a correlated pair of <code>kafka</code> messages. The <code>http</code> request message is sent to a <code>requests</code> topic, with a <code>zilla:correlation-id</code> header. When the request message received and processed by the <code>kafka</code> <code>requests</code> topic consumer, it produces a response message to the <code>responses</code> topic, with the same <code>zilla:correlation-id</code> header to correlate the response.</p><p>Requests including an <code>idempotency-key</code> <code>http</code> header can be replayed and safely receive the same response. This requires the <code>kafka</code> consumer to detect and ignore the duplicate request with the same <code>idempotency-key</code> and <code>zilla:correlation-id</code>.</p><p>Specifying <code>async</code> allows clients to include a <code>prefer: respond-async</code> header in the <code>http</code> request to receive <code>202 Accepted</code> response with <code>location</code> response header.</p><p>A corresponding <code>routes[].when</code> object with matching <code>GET</code> method and <code>location</code> path is also required for follow up <code>GET</code> requests to return the same response as would have been returned if <code>prefer: respond-async</code> request header had been omitted.</p><div class="language-yaml line-numbers-mode" data-highlighter="shiki" data-ext="yaml" data-title="yaml" style="--shiki-light:#000000;--shiki-dark:#D4D4D4;--shiki-light-bg:#FFFFFF;--shiki-dark-bg:#1E1E1E;"><pre class="shiki shiki-themes light-plus dark-plus vp-code"><code><span class="line"><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">with</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">:</span></span>
<span class="line"><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">  capability</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#0000FF;--shiki-dark:#CE9178;">produce</span></span>
<span class="line"><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">  topic</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#0000FF;--shiki-dark:#CE9178;">items-requests</span></span>
<span class="line"><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">  acks</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#0000FF;--shiki-dark:#CE9178;">leader_only</span></span>
<span class="line"><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">  key</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#0000FF;--shiki-dark:#CE9178;">\${params.id}</span></span>
<span class="line"><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">  reply-to</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#0000FF;--shiki-dark:#CE9178;">items-responses</span></span>
<span class="line"><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">  overrides</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">:</span></span>
<span class="line"><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">    custom-text</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#0000FF;--shiki-dark:#CE9178;">custom-value</span></span>
<span class="line"><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">  async</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">:</span></span>
<span class="line"><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">    location</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#0000FF;--shiki-dark:#CE9178;">/items/\${params.id};cid=\${correlationId}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,60)),n(" markdownlint-disable MD024 "),s[8]||(s[8]=i("h4",{id:"with-topic-1",tabindex:"-1"},[i("a",{class:"header-anchor",href:"#with-topic-1"},[i("span",null,"with.topic*")])],-1)),s[9]||(s[9]=i("blockquote",null,[i("p",null,[i("code",null,"string")])],-1)),s[10]||(s[10]=i("p",null,[a("Kafka topic name, optionally referencing path parameter such as "),i("code",null,"${params.topic}"),a(".")],-1)),n(" markdownlint-enable MD024 "),s[11]||(s[11]=e(`<h4 id="with-acks" tabindex="-1"><a class="header-anchor" href="#with-acks"><span>with.acks</span></a></h4><blockquote><p><code>enum</code> [ <code>none</code>, <code>leader_only</code>, <code>in_sync_replicas</code> ] | Default: <code>in_sync_replicas</code></p></blockquote><p>Kafka acknowledgement mode</p><h4 id="with-key" tabindex="-1"><a class="header-anchor" href="#with-key"><span>with.key</span></a></h4><blockquote><p><code>string</code></p></blockquote><p>Kafka message key, optionally referencing path parameter such as <code>\${params.id}</code>.</p><h4 id="with-overrides" tabindex="-1"><a class="header-anchor" href="#with-overrides"><span>with.overrides</span></a></h4><blockquote><p><code>object</code> as map of named <code>string</code> properties</p></blockquote><p>Kafka message headers, with values optionally referencing path parameter.</p><h4 id="with-reply-to" tabindex="-1"><a class="header-anchor" href="#with-reply-to"><span>with.reply-to</span></a></h4><blockquote><p><code>string</code></p></blockquote><p>Kafka reply-to topic name.</p><h4 id="with-async" tabindex="-1"><a class="header-anchor" href="#with-async"><span>with.async</span></a></h4><blockquote><p><code>object</code> as map of named <code>string</code> properties</p></blockquote><p>Allows an HTTP response to be retrieved asynchronously.</p><p>A <code>location: &lt;path&gt;</code> property can be used to define the path where an async result can be fetched, with the <code>&lt;path&gt;</code> value optionally referencing route path parameters or the <code>\${correlationId}</code>.</p><h3 id="telemetry" tabindex="-1"><a class="header-anchor" href="#telemetry"><span>telemetry</span></a></h3><blockquote><p><code>object</code></p></blockquote><p>Defines the desired telemetry for the binding.</p><h4 id="telemetry-metrics" tabindex="-1"><a class="header-anchor" href="#telemetry-metrics"><span>telemetry.metrics</span></a></h4><blockquote><p><code>array</code></p></blockquote><p>Telemetry metrics to track</p><div class="language-yaml line-numbers-mode" data-highlighter="shiki" data-ext="yaml" data-title="yaml" style="--shiki-light:#000000;--shiki-dark:#D4D4D4;--shiki-light-bg:#FFFFFF;--shiki-dark-bg:#1E1E1E;"><pre class="shiki shiki-themes light-plus dark-plus vp-code"><code><span class="line"><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">telemetry</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">:</span></span>
<span class="line"><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">  metrics</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">:</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">    - </span><span style="--shiki-light:#0000FF;--shiki-dark:#CE9178;">stream.*</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">    - </span><span style="--shiki-light:#0000FF;--shiki-dark:#CE9178;">http.*</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,23))])}const u=l(c,[["render",o],["__file","proxy.html.vue"]]),m=JSON.parse('{"path":"/reference/config/bindings/http-kafka/proxy.html","title":"http-kafka proxy","lang":"en-US","frontmatter":{"shortTitle":"proxy","description":"http-kafka proxy The http-kafka proxy binding for adapting http request-response streams to kafka topic streams. Configuration (* required) options object http-kafka specific op...","gitInclude":[".partials/proxy.yaml",".partials/options.md",".partials/routes.md","../.partials/telemetry-http.md"],"head":[["meta",{"property":"og:url","content":"https://docs.aklivity.io/zilla-docs/next/reference/config/bindings/http-kafka/proxy.html"}],["meta",{"property":"og:site_name","content":"Documentation"}],["meta",{"property":"og:title","content":"http-kafka proxy"}],["meta",{"property":"og:description","content":"http-kafka proxy The http-kafka proxy binding for adapting http request-response streams to kafka topic streams. Configuration (* required) options object http-kafka specific op..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"en-US"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"http-kafka proxy\\",\\"image\\":[\\"\\"],\\"dateModified\\":null,\\"author\\":[]}"]]},"headers":[{"level":2,"title":"Configuration (* required)","slug":"configuration-required","link":"#configuration-required","children":[{"level":3,"title":"options","slug":"options","link":"#options","children":[{"level":4,"title":"options.idempotency","slug":"options-idempotency","link":"#options-idempotency","children":[]},{"level":4,"title":"idempotency.header*","slug":"idempotency-header","link":"#idempotency-header","children":[]},{"level":4,"title":"options.correlation","slug":"options-correlation","link":"#options-correlation","children":[]},{"level":4,"title":"correlation.headers*","slug":"correlation-headers","link":"#correlation-headers","children":[]},{"level":4,"title":"headers.reply-to","slug":"headers-reply-to","link":"#headers-reply-to","children":[]},{"level":4,"title":"headers.correlation-id","slug":"headers-correlation-id","link":"#headers-correlation-id","children":[]}]},{"level":3,"title":"routes*","slug":"routes","link":"#routes","children":[{"level":4,"title":"routes[].guarded","slug":"routes-guarded","link":"#routes-guarded","children":[]},{"level":4,"title":"routes[].when","slug":"routes-when","link":"#routes-when","children":[]},{"level":4,"title":"when[].method","slug":"when-method","link":"#when-method","children":[]},{"level":4,"title":"when[].path","slug":"when-path","link":"#when-path","children":[]},{"level":4,"title":"routes[].exit","slug":"routes-exit","link":"#routes-exit","children":[]},{"level":4,"title":"routes[].with*","slug":"routes-with","link":"#routes-with","children":[]},{"level":4,"title":"with.capability: fetch*","slug":"with-capability-fetch","link":"#with-capability-fetch","children":[]},{"level":4,"title":"with.topic*","slug":"with-topic","link":"#with-topic","children":[]},{"level":4,"title":"with.filters","slug":"with-filters","link":"#with-filters","children":[]},{"level":4,"title":"filters[].key","slug":"filters-key","link":"#filters-key","children":[]},{"level":4,"title":"filters[].headers","slug":"filters-headers","link":"#filters-headers","children":[]},{"level":4,"title":"with.merge","slug":"with-merge","link":"#with-merge","children":[]},{"level":4,"title":"merge.content-type: application/json*","slug":"merge-content-type-application-json","link":"#merge-content-type-application-json","children":[]},{"level":4,"title":"merge.patch","slug":"merge-patch","link":"#merge-patch","children":[]},{"level":4,"title":"patch.initial: []*","slug":"patch-initial","link":"#patch-initial","children":[]},{"level":4,"title":"patch.path: /-*","slug":"patch-path","link":"#patch-path","children":[]},{"level":4,"title":"with.capability: produce*","slug":"with-capability-produce","link":"#with-capability-produce","children":[]},{"level":4,"title":"with.topic*","slug":"with-topic-1","link":"#with-topic-1","children":[]},{"level":4,"title":"with.acks","slug":"with-acks","link":"#with-acks","children":[]},{"level":4,"title":"with.key","slug":"with-key","link":"#with-key","children":[]},{"level":4,"title":"with.overrides","slug":"with-overrides","link":"#with-overrides","children":[]},{"level":4,"title":"with.reply-to","slug":"with-reply-to","link":"#with-reply-to","children":[]},{"level":4,"title":"with.async","slug":"with-async","link":"#with-async","children":[]}]},{"level":3,"title":"telemetry","slug":"telemetry","link":"#telemetry","children":[{"level":4,"title":"telemetry.metrics","slug":"telemetry-metrics","link":"#telemetry-metrics","children":[]}]}]}],"readingTime":{"minutes":0.11,"words":33},"filePathRelative":"reference/config/bindings/http-kafka/proxy.md","autoDesc":true}');export{u as comp,m as data};
