import{_ as n}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as l,f as a,a as e,b as i,d as h,e as p,r,o as k}from"./app-DQ2AyMtK.js";const d={};function o(c,s){const t=r("RouteLink");return k(),l("div",null,[s[6]||(s[6]=a(`<h1 id="mqtt-kafka-proxy" tabindex="-1"><a class="header-anchor" href="#mqtt-kafka-proxy"><span>mqtt-kafka proxy</span></a></h1><p>The mqtt-kafka proxy binding for adapting MQTT topic streams to Kafka topic streams. By configuring the Kafka topics that the proxy will use to route mqtt messages and session states an <code>mqtt</code> <code>server</code> binding can allow clients to connect and proxy MQTT messages onto Kafka topics.</p><div class="language-yaml line-numbers-mode" data-highlighter="shiki" data-ext="yaml" data-title="yaml" style="--shiki-light:#000000;--shiki-dark:#D4D4D4;--shiki-light-bg:#FFFFFF;--shiki-dark-bg:#1E1E1E;"><pre class="shiki shiki-themes light-plus dark-plus vp-code"><code><span class="line"><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">mqtt_kafka_proxy</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">:</span></span>
<span class="line"><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">  type</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#0000FF;--shiki-dark:#CE9178;">mqtt-kafka</span></span>
<span class="line highlighted"><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">  kind</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#0000FF;--shiki-dark:#CE9178;">proxy</span></span>
<span class="line"><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">  options</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">:</span></span>
<span class="line"><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">    server</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#0000FF;--shiki-dark:#CE9178;">mqtt-1.example.com:1883</span></span>
<span class="line"><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">    topics</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">:</span></span>
<span class="line"><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">      sessions</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#0000FF;--shiki-dark:#CE9178;">mqtt-sessions</span></span>
<span class="line"><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">      messages</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#0000FF;--shiki-dark:#CE9178;">mqtt-messages</span></span>
<span class="line"><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">      retained</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#0000FF;--shiki-dark:#CE9178;">mqtt-retained</span></span>
<span class="line"><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">    clients</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">:</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">      - </span><span style="--shiki-light:#0000FF;--shiki-dark:#CE9178;">place/{identity}/#</span></span>
<span class="line"><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">  routes</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">:</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">    - </span><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">when</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">:</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">        - </span><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">publish</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">:</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">            - </span><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">topic</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#0000FF;--shiki-dark:#CE9178;">place/+/device/#</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">        - </span><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">subscribe</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">:</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">            - </span><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">topic</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#0000FF;--shiki-dark:#CE9178;">place/+/device/#</span></span>
<span class="line"><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">      with</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">:</span></span>
<span class="line"><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">        messages</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#0000FF;--shiki-dark:#CE9178;">mqtt-devices</span></span>
<span class="line"><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">      exit</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#0000FF;--shiki-dark:#CE9178;">kafka_cache_client</span></span>
<span class="line"><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">  exit</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#0000FF;--shiki-dark:#CE9178;">kafka_cache_client</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="configuration-required" tabindex="-1"><a class="header-anchor" href="#configuration-required"><span>Configuration (* required)</span></a></h2><h3 id="options" tabindex="-1"><a class="header-anchor" href="#options"><span>options*</span></a></h3><blockquote><p><code>object</code></p></blockquote><p>The <code>mqtt-kafka</code> specific options.</p><h4 id="options-server" tabindex="-1"><a class="header-anchor" href="#options-server"><span>options.server</span></a></h4><blockquote><p><code>string</code></p></blockquote><p>The server reference used by the MQTT server in Zilla. This config enables scaling of the MQTT server when running multiple Zilla instances as it uses <a href="https://docs.oasis-open.org/mqtt/mqtt/v5.0/os/mqtt-v5.0-os.html#_Toc3901255" target="_blank" rel="noopener noreferrer">server redirection</a>.</p><div class="language-yaml" data-highlighter="shiki" data-ext="yaml" data-title="yaml" style="--shiki-light:#000000;--shiki-dark:#D4D4D4;--shiki-light-bg:#FFFFFF;--shiki-dark-bg:#1E1E1E;"><pre class="shiki shiki-themes light-plus dark-plus vp-code"><code><span class="line"><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">options</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">:</span></span>
<span class="line"><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">  server</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#0000FF;--shiki-dark:#CE9178;">mqtt-1.example.com:1883</span></span></code></pre></div><h4 id="options-topics" tabindex="-1"><a class="header-anchor" href="#options-topics"><span>options.topics*</span></a></h4><blockquote><p><code>object</code></p></blockquote><p>The <code>kafka</code> topics Zilla needs when routing MQTT messages</p><div class="language-yaml line-numbers-mode" data-highlighter="shiki" data-ext="yaml" data-title="yaml" style="--shiki-light:#000000;--shiki-dark:#D4D4D4;--shiki-light-bg:#FFFFFF;--shiki-dark-bg:#1E1E1E;"><pre class="shiki shiki-themes light-plus dark-plus vp-code"><code><span class="line"><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">options</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">:</span></span>
<span class="line"><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">  topics</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">:</span></span>
<span class="line"><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">    sessions</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#0000FF;--shiki-dark:#CE9178;">mqtt-sessions</span></span>
<span class="line"><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">    messages</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#0000FF;--shiki-dark:#CE9178;">mqtt-messages</span></span>
<span class="line"><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">    retained</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#0000FF;--shiki-dark:#CE9178;">mqtt-retained</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="topics-sessions" tabindex="-1"><a class="header-anchor" href="#topics-sessions"><span>topics.sessions*</span></a></h4><blockquote><p><code>string</code></p></blockquote><p>A Kafka topic for storing mqtt session states.</p><div class="hint-container warning"><p class="hint-container-title">cleanup.policy Required</p><p>A <code>compact</code> <a href="https://kafka.apache.org/30/generated/topic_config.html#topicconfigs_cleanup.policy" target="_blank" rel="noopener noreferrer">cleanup.policy</a> is required.</p></div><h4 id="topics-messages" tabindex="-1"><a class="header-anchor" href="#topics-messages"><span>topics.messages*</span></a></h4><blockquote><p><code>string</code></p></blockquote><p>The default Kafka topic used for routing mqtt messages.</p><h4 id="topics-retained" tabindex="-1"><a class="header-anchor" href="#topics-retained"><span>topics.retained*</span></a></h4><blockquote><p><code>string</code></p></blockquote><p>A Kafka topic for storing mqtt retained messages.</p><div class="hint-container info"><p class="hint-container-title">cleanup.policy Recommended</p><p>A <code>compact</code> <a href="https://kafka.apache.org/30/generated/topic_config.html#topicconfigs_cleanup.policy" target="_blank" rel="noopener noreferrer">cleanup.policy</a> is recommended.</p></div><h4 id="options-clients" tabindex="-1"><a class="header-anchor" href="#options-clients"><span>options.clients</span></a></h4><blockquote><p><code>array</code> of <code>string</code></p></blockquote><p>Pattern defining how to extract client identity from the topic. Using this we can ensure that all messages for the same client identity are produced to Kafka on the same topic partition.</p><div class="language-yaml line-numbers-mode" data-highlighter="shiki" data-ext="yaml" data-title="yaml" style="--shiki-light:#000000;--shiki-dark:#D4D4D4;--shiki-light-bg:#FFFFFF;--shiki-dark-bg:#1E1E1E;"><pre class="shiki shiki-themes light-plus dark-plus vp-code"><code><span class="line"><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">options</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">:</span></span>
<span class="line"><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">  clients</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">:</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">    - </span><span style="--shiki-light:#0000FF;--shiki-dark:#CE9178;">place/{identity}/#</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="options-publish" tabindex="-1"><a class="header-anchor" href="#options-publish"><span>options.publish</span></a></h4><blockquote><p><code>object</code></p></blockquote><p>The MQTT client publish specific options.</p><h4 id="publish-qosmax" tabindex="-1"><a class="header-anchor" href="#publish-qosmax"><span>publish.qosMax*</span></a></h4><blockquote><p><code>enum</code> [ <code>at_most_once</code>, <code>at_least_once</code>, <code>exactly_once</code> ] | Default: <code>exactly_once</code></p></blockquote><p>Highest allowed QOS level.</p><div class="language-yaml line-numbers-mode" data-highlighter="shiki" data-ext="yaml" data-title="yaml" style="--shiki-light:#000000;--shiki-dark:#D4D4D4;--shiki-light-bg:#FFFFFF;--shiki-dark-bg:#1E1E1E;"><pre class="shiki shiki-themes light-plus dark-plus vp-code"><code><span class="line"><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">options</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">:</span></span>
<span class="line"><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">  publish</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">:</span></span>
<span class="line"><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">    qosMax</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#0000FF;--shiki-dark:#CE9178;">at_most_once</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="routes" tabindex="-1"><a class="header-anchor" href="#routes"><span>routes</span></a></h3><blockquote><p><code>array</code> of <code>object</code></p></blockquote><p>Conditional <code>mqtt-kafka</code> specific routes.</p><div class="language-yaml line-numbers-mode" data-highlighter="shiki" data-ext="yaml" data-title="yaml" style="--shiki-light:#000000;--shiki-dark:#D4D4D4;--shiki-light-bg:#FFFFFF;--shiki-dark-bg:#1E1E1E;"><pre class="shiki shiki-themes light-plus dark-plus vp-code"><code><span class="line"><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">routes</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">:</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">  - </span><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">when</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">:</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">      - </span><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">publish</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">:</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">          - </span><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">topic</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#0000FF;--shiki-dark:#CE9178;">place/+/device/#</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">      - </span><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">subscribe</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">:</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">          - </span><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">topic</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#0000FF;--shiki-dark:#CE9178;">place/+/device/#</span></span>
<span class="line"><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">    with</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">:</span></span>
<span class="line"><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">      messages</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#0000FF;--shiki-dark:#CE9178;">mqtt-devices</span></span>
<span class="line"><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">    exit</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#0000FF;--shiki-dark:#CE9178;">kafka_cache_client</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="routes-guarded" tabindex="-1"><a class="header-anchor" href="#routes-guarded"><span>routes[].guarded</span></a></h4><blockquote><p><code>object</code> as map of named <code>array</code> of <code>string</code></p></blockquote><p>List of roles required by each named guard to authorize this route.</p><div class="language-yaml line-numbers-mode" data-highlighter="shiki" data-ext="yaml" data-title="yaml" style="--shiki-light:#000000;--shiki-dark:#D4D4D4;--shiki-light-bg:#FFFFFF;--shiki-dark-bg:#1E1E1E;"><pre class="shiki shiki-themes light-plus dark-plus vp-code"><code><span class="line"><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">routes</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">:</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">  - </span><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">guarded</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">:</span></span>
<span class="line"><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">      my_guard</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">:</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">        - </span><span style="--shiki-light:#0000FF;--shiki-dark:#CE9178;">publish:clients</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="routes-when" tabindex="-1"><a class="header-anchor" href="#routes-when"><span>routes[].when</span></a></h4><blockquote><p><code>array</code> of <code>object</code></p></blockquote>`,47)),e("p",null,[s[1]||(s[1]=i("List of conditions (any match) to match this route when adapting ")),s[2]||(s[2]=e("code",null,"mqtt",-1)),s[3]||(s[3]=i(" topic streams to ")),s[4]||(s[4]=e("code",null,"kafka",-1)),s[5]||(s[5]=i(" topic streams. Read more: ")),h(t,{to:"/concepts/bindings.html#when-a-route-matches"},{default:p(()=>s[0]||(s[0]=[i("When a route matches")])),_:1})]),s[7]||(s[7]=a(`<div class="language-yaml line-numbers-mode" data-highlighter="shiki" data-ext="yaml" data-title="yaml" style="--shiki-light:#000000;--shiki-dark:#D4D4D4;--shiki-light-bg:#FFFFFF;--shiki-dark-bg:#1E1E1E;"><pre class="shiki shiki-themes light-plus dark-plus vp-code"><code><span class="line"><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">routes</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">:</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">  - </span><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">when</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">:</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">      - </span><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">publish</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">:</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">          - </span><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">topic</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#0000FF;--shiki-dark:#CE9178;">place/#</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">      - </span><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">subscribe</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">:</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">          - </span><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">topic</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#0000FF;--shiki-dark:#CE9178;">place/#</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="when-publish" tabindex="-1"><a class="header-anchor" href="#when-publish"><span>when[].publish</span></a></h4><blockquote><p><code>array</code> of <code>object</code></p></blockquote><p>Array of MQTT topic filters matching topic names for publish.</p><div class="language-yaml line-numbers-mode" data-highlighter="shiki" data-ext="yaml" data-title="yaml" style="--shiki-light:#000000;--shiki-dark:#D4D4D4;--shiki-light-bg:#FFFFFF;--shiki-dark-bg:#1E1E1E;"><pre class="shiki shiki-themes light-plus dark-plus vp-code"><code><span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">- </span><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">publish</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">:</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">    - </span><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">topic</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#0000FF;--shiki-dark:#CE9178;">place/#</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">    - </span><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">topic</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#0000FF;--shiki-dark:#CE9178;">subs/#</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="publish-topic" tabindex="-1"><a class="header-anchor" href="#publish-topic"><span>publish[].topic</span></a></h4><blockquote><p><code>string</code></p></blockquote><p>MQTT topic filter pattern.</p><h4 id="when-subscribe" tabindex="-1"><a class="header-anchor" href="#when-subscribe"><span>when[].subscribe</span></a></h4><blockquote><p><code>array</code> of <code>object</code></p></blockquote><p>Array of MQTT topic filters matching topic names for subscribe.</p><div class="language-yaml line-numbers-mode" data-highlighter="shiki" data-ext="yaml" data-title="yaml" style="--shiki-light:#000000;--shiki-dark:#D4D4D4;--shiki-light-bg:#FFFFFF;--shiki-dark-bg:#1E1E1E;"><pre class="shiki shiki-themes light-plus dark-plus vp-code"><code><span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">- </span><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">subscribe</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">:</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">    - </span><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">topic</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#0000FF;--shiki-dark:#CE9178;">place/#</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">    - </span><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">topic</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#0000FF;--shiki-dark:#CE9178;">subs/#</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="subscribe-topic" tabindex="-1"><a class="header-anchor" href="#subscribe-topic"><span>subscribe[].topic</span></a></h4><blockquote><p><code>string</code></p></blockquote><p>MQTT topic filter pattern.</p><h4 id="routes-exit" tabindex="-1"><a class="header-anchor" href="#routes-exit"><span>routes[].exit</span></a></h4><blockquote><p><code>string</code></p></blockquote><p>Next binding when following this route.</p><h4 id="routes-with" tabindex="-1"><a class="header-anchor" href="#routes-with"><span>routes[].with*</span></a></h4><blockquote><p><code>object</code></p></blockquote><p>Kafka parameters for matched route when adapting <code>mqtt</code> topic streams to <code>kafka</code> topic streams.</p><div class="language-yaml" data-highlighter="shiki" data-ext="yaml" data-title="yaml" style="--shiki-light:#000000;--shiki-dark:#D4D4D4;--shiki-light-bg:#FFFFFF;--shiki-dark-bg:#1E1E1E;"><pre class="shiki shiki-themes light-plus dark-plus vp-code"><code><span class="line"><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">with</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">:</span></span>
<span class="line"><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">  messages</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#0000FF;--shiki-dark:#CE9178;">mqtt-devices</span></span></code></pre></div><h4 id="with-messages" tabindex="-1"><a class="header-anchor" href="#with-messages"><span>with.messages</span></a></h4><blockquote><p><code>string</code></p></blockquote><p>Kafka topic to use for the route.</p><h3 id="exit" tabindex="-1"><a class="header-anchor" href="#exit"><span>exit</span></a></h3><blockquote><p><code>string</code></p></blockquote><p>Default exit binding when no conditional routes are viable.</p><div class="language-yaml" data-highlighter="shiki" data-ext="yaml" data-title="yaml" style="--shiki-light:#000000;--shiki-dark:#D4D4D4;--shiki-light-bg:#FFFFFF;--shiki-dark-bg:#1E1E1E;"><pre class="shiki shiki-themes light-plus dark-plus vp-code"><code><span class="line"><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">exit</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#0000FF;--shiki-dark:#CE9178;">echo_server</span></span></code></pre></div><h3 id="telemetry" tabindex="-1"><a class="header-anchor" href="#telemetry"><span>telemetry</span></a></h3><blockquote><p><code>object</code></p></blockquote><p>Defines the desired telemetry for the binding.</p><h4 id="telemetry-metrics" tabindex="-1"><a class="header-anchor" href="#telemetry-metrics"><span>telemetry.metrics</span></a></h4><blockquote><p><code>array</code></p></blockquote><p>Telemetry metrics to track</p><div class="language-yaml line-numbers-mode" data-highlighter="shiki" data-ext="yaml" data-title="yaml" style="--shiki-light:#000000;--shiki-dark:#D4D4D4;--shiki-light-bg:#FFFFFF;--shiki-dark-bg:#1E1E1E;"><pre class="shiki shiki-themes light-plus dark-plus vp-code"><code><span class="line"><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">telemetry</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">:</span></span>
<span class="line"><span style="--shiki-light:#800000;--shiki-dark:#569CD6;">  metrics</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">:</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">    - </span><span style="--shiki-light:#0000FF;--shiki-dark:#CE9178;">stream.*</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,36))])}const D=n(d,[["render",o],["__file","proxy.html.vue"]]),m=JSON.parse('{"path":"/reference/config/bindings/mqtt-kafka/proxy.html","title":"mqtt-kafka proxy","lang":"en-US","frontmatter":{"shortTitle":"proxy","description":"mqtt-kafka proxy The mqtt-kafka proxy binding for adapting MQTT topic streams to Kafka topic streams. By configuring the Kafka topics that the proxy will use to route mqtt messa...","gitInclude":[".partials/proxy.yaml",".partials/options.md",".partials/routes.md","../.partials/exit.md","../.partials/telemetry.md"],"head":[["meta",{"property":"og:url","content":"https://docs.aklivity.io/zilla-docs/next/reference/config/bindings/mqtt-kafka/proxy.html"}],["meta",{"property":"og:site_name","content":"Documentation"}],["meta",{"property":"og:title","content":"mqtt-kafka proxy"}],["meta",{"property":"og:description","content":"mqtt-kafka proxy The mqtt-kafka proxy binding for adapting MQTT topic streams to Kafka topic streams. By configuring the Kafka topics that the proxy will use to route mqtt messa..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"en-US"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"mqtt-kafka proxy\\",\\"image\\":[\\"\\"],\\"dateModified\\":null,\\"author\\":[]}"]]},"headers":[{"level":2,"title":"Configuration (* required)","slug":"configuration-required","link":"#configuration-required","children":[{"level":3,"title":"options*","slug":"options","link":"#options","children":[{"level":4,"title":"options.server","slug":"options-server","link":"#options-server","children":[]},{"level":4,"title":"options.topics*","slug":"options-topics","link":"#options-topics","children":[]},{"level":4,"title":"topics.sessions*","slug":"topics-sessions","link":"#topics-sessions","children":[]},{"level":4,"title":"topics.messages*","slug":"topics-messages","link":"#topics-messages","children":[]},{"level":4,"title":"topics.retained*","slug":"topics-retained","link":"#topics-retained","children":[]},{"level":4,"title":"options.clients","slug":"options-clients","link":"#options-clients","children":[]},{"level":4,"title":"options.publish","slug":"options-publish","link":"#options-publish","children":[]},{"level":4,"title":"publish.qosMax*","slug":"publish-qosmax","link":"#publish-qosmax","children":[]}]},{"level":3,"title":"routes","slug":"routes","link":"#routes","children":[{"level":4,"title":"routes[].guarded","slug":"routes-guarded","link":"#routes-guarded","children":[]},{"level":4,"title":"routes[].when","slug":"routes-when","link":"#routes-when","children":[]},{"level":4,"title":"when[].publish","slug":"when-publish","link":"#when-publish","children":[]},{"level":4,"title":"publish[].topic","slug":"publish-topic","link":"#publish-topic","children":[]},{"level":4,"title":"when[].subscribe","slug":"when-subscribe","link":"#when-subscribe","children":[]},{"level":4,"title":"subscribe[].topic","slug":"subscribe-topic","link":"#subscribe-topic","children":[]},{"level":4,"title":"routes[].exit","slug":"routes-exit","link":"#routes-exit","children":[]},{"level":4,"title":"routes[].with*","slug":"routes-with","link":"#routes-with","children":[]},{"level":4,"title":"with.messages","slug":"with-messages","link":"#with-messages","children":[]}]},{"level":3,"title":"exit","slug":"exit","link":"#exit","children":[]},{"level":3,"title":"telemetry","slug":"telemetry","link":"#telemetry","children":[{"level":4,"title":"telemetry.metrics","slug":"telemetry-metrics","link":"#telemetry-metrics","children":[]}]}]}],"readingTime":{"minutes":0.22,"words":66},"filePathRelative":"reference/config/bindings/mqtt-kafka/proxy.md","autoDesc":true}');export{D as comp,m as data};
