import{_ as k}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as r,f as d,d as h,e as t,a as i,b as s,r as o,o as c}from"./app-2pbKPq8C.js";const p="/zilla-docs/next/assets/aivien-connection-information-CiNExxUF.png",g={};function D(y,e){const n=o("CodeTabs");return c(),r("div",null,[e[6]||(e[6]=d('<h1 id="aiven" tabindex="-1"><a class="header-anchor" href="#aiven"><span>Aiven</span></a></h1><p>This is how to connect to Aiven Kafka from Zilla. The examples use the below Environment variables.</p><table><thead><tr><th>Environment variable</th><th>Description</th></tr></thead><tbody><tr><td><code>TRUSTORE_PATH</code></td><td>The path to the <code>truststore</code> that stores CA cert that you want to trust.</td></tr><tr><td><code>TRUSTORE_TYPE</code></td><td>Keystore types such as <code>pkcs12</code>, <code>jceks</code>, and etc</td></tr><tr><td><code>TRUSTORE_PASSWORD</code></td><td>Truststore password.</td></tr><tr><td><code>KEYSTORE_PATH</code></td><td>The path to the <code>keystore</code> that stores access key.</td></tr><tr><td><code>KEYSTORE_TYPE</code></td><td>Keystore types such as <code>pkcs12</code>, <code>jceks</code>, and etc</td></tr><tr><td><code>KEYSTORE_PASSWORD</code></td><td>Keystore password.</td></tr><tr><td><code>CA_CERT_ALIAS</code></td><td>Unique string that identifies the certificate entry in the truststore.</td></tr><tr><td><code>SIGNED_CLIENT_CERT_ALIAS</code></td><td>A unique string that identifies the key cert entry chain in the keystore</td></tr><tr><td><code>BOOTSTRAP_SERVER_HOSTNAME</code></td><td>Target Kafka hostname</td></tr><tr><td><code>BOOTSTRAP_SERVER_PORT</code></td><td>Target Kafka port number</td></tr></tbody></table><h2 id="aiven-parameters" tabindex="-1"><a class="header-anchor" href="#aiven-parameters"><span>Aiven Parameters</span></a></h2><p>The Aiven Kafka requires clients to connect via <code>TLS mutual authentication</code> and provides the following files <code>Client Key</code>, <code>Client Certificate</code>, and <code>CA Certificate</code> to achieve that. You can download them by going to <code>Aiven Console</code> -&gt; <code>Kafka Cluster</code> -&gt; <code>Overview Tab</code> as shown below.</p><figure><img src="'+p+'" alt="Connection Info" tabindex="0" loading="lazy"><figcaption>Connection Info</figcaption></figure><p>you should have the following files:</p><ul><li><code>service.key</code> - Access Key</li><li><code>service.cert</code> - Access Certificate</li><li><code>ca.pem</code> - CA Certificate</li></ul><p>The next step is to generate the truststore and keystore.</p><ul><li><code>truststore.p12</code> - contains the trusted server certificates or certificate authorities</li><li><code>keystore.p12</code> - contains the signed client certificates</li></ul><p>You can use the scripts shown below to generate <code>truststore.p12</code> and <code>keystore.p12</code> files using certificates and keys downloaded from <code>Aiven Kafka Console</code>. Please replace all caps lock words.</p>',11)),h(n,{id:"147",data:[{id:"truststore.p12"},{id:"keystore.p12"}],"tab-id":"bash"},{title0:t(({value:a,isActive:l})=>e[0]||(e[0]=[s("truststore.p12")])),title1:t(({value:a,isActive:l})=>e[1]||(e[1]=[s("keystore.p12")])),tab0:t(({value:a,isActive:l})=>e[2]||(e[2]=[i("div",{class:"language-bash line-numbers-mode","data-highlighter":"shiki","data-ext":"bash","data-title":"bash",style:{"--shiki-light":"#000000","--shiki-dark":"#D4D4D4","--shiki-light-bg":"#FFFFFF","--shiki-dark-bg":"#1E1E1E"}},[i("pre",{class:"shiki shiki-themes light-plus dark-plus vp-code"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#795E26","--shiki-dark":"#DCDCAA"}},"keytool"),i("span",{style:{"--shiki-light":"#0000FF","--shiki-dark":"#569CD6"}}," -import"),i("span",{style:{"--shiki-light":"#0000FF","--shiki-dark":"#569CD6"}}," -file"),i("span",{style:{"--shiki-light":"#A31515","--shiki-dark":"#CE9178"}}," ca.pem"),i("span",{style:{"--shiki-light":"#EE0000","--shiki-dark":"#D7BA7D"}}," \\")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#000000","--shiki-dark":"#D4D4D4"}},"-alias "),i("span",{style:{"--shiki-light":"#A31515","--shiki-dark":"#CE9178"}},"YOUR_KAFKA_SIGNED_CLIENT_CERT_ALIAS"),i("span",{style:{"--shiki-light":"#EE0000","--shiki-dark":"#D7BA7D"}}," \\")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#000000","--shiki-dark":"#D4D4D4"}},"-keystore "),i("span",{style:{"--shiki-light":"#A31515","--shiki-dark":"#CE9178"}},"truststore.p12")])])]),i("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"})])],-1)])),tab1:t(({value:a,isActive:l})=>e[3]||(e[3]=[i("div",{class:"language-bash line-numbers-mode","data-highlighter":"shiki","data-ext":"bash","data-title":"bash",style:{"--shiki-light":"#000000","--shiki-dark":"#D4D4D4","--shiki-light-bg":"#FFFFFF","--shiki-dark-bg":"#1E1E1E"}},[i("pre",{class:"shiki shiki-themes light-plus dark-plus vp-code"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#795E26","--shiki-dark":"#DCDCAA"}},"openssl"),i("span",{style:{"--shiki-light":"#A31515","--shiki-dark":"#CE9178"}}," pkcs12"),i("span",{style:{"--shiki-light":"#0000FF","--shiki-dark":"#569CD6"}}," -export"),i("span",{style:{"--shiki-light":"#0000FF","--shiki-dark":"#569CD6"}}," -in"),i("span",{style:{"--shiki-light":"#A31515","--shiki-dark":"#CE9178"}}," service.cert"),i("span",{style:{"--shiki-light":"#0000FF","--shiki-dark":"#569CD6"}}," -inkey"),i("span",{style:{"--shiki-light":"#A31515","--shiki-dark":"#CE9178"}}," service.key"),i("span",{style:{"--shiki-light":"#EE0000","--shiki-dark":"#D7BA7D"}}," \\")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#000000","--shiki-dark":"#D4D4D4"}},"-out "),i("span",{style:{"--shiki-light":"#A31515","--shiki-dark":"#CE9178"}},"keystore.p12"),i("span",{style:{"--shiki-light":"#0000FF","--shiki-dark":"#569CD6"}}," -name"),i("span",{style:{"--shiki-light":"#A31515","--shiki-dark":"#CE9178"}}," YOUR_KAFKA_CA_CERT_ALIAS"),i("span",{style:{"--shiki-light":"#EE0000","--shiki-dark":"#D7BA7D"}}," \\")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#000000","--shiki-dark":"#D4D4D4"}},"-CAfile "),i("span",{style:{"--shiki-light":"#A31515","--shiki-dark":"#CE9178"}},"ca.pem")])])]),i("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"})])],-1)])),_:1}),e[7]||(e[7]=i("h2",{id:"configure-zilla",tabindex:"-1"},[i("a",{class:"header-anchor",href:"#configure-zilla"},[i("span",null,"Configure Zilla")])],-1)),e[8]||(e[8]=i("p",null,[s("And the final step is to configure a "),i("code",null,"vault"),s(" with "),i("code",null,"truststore"),s(" and "),i("code",null,"keystore"),s(", then reference the vault in the "),i("code",null,"south_tls_client"),s(" binding.")],-1)),h(n,{id:"161",data:[{id:"zilla.yaml"}],"tab-id":"yaml"},{title0:t(({value:a,isActive:l})=>e[4]||(e[4]=[s("zilla.yaml")])),tab0:t(({value:a,isActive:l})=>e[5]||(e[5]=[i("div",{class:"language-yaml line-numbers-mode","data-highlighter":"shiki","data-ext":"yaml","data-title":"yaml",style:{"--shiki-light":"#000000","--shiki-dark":"#D4D4D4","--shiki-light-bg":"#FFFFFF","--shiki-dark-bg":"#1E1E1E"}},[i("pre",{class:"shiki shiki-themes light-plus dark-plus vp-code"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#800000","--shiki-dark":"#569CD6"}},"vaults"),i("span",{style:{"--shiki-light":"#000000","--shiki-dark":"#D4D4D4"}},":")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#800000","--shiki-dark":"#569CD6"}},"  client_vault"),i("span",{style:{"--shiki-light":"#000000","--shiki-dark":"#D4D4D4"}},":")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#800000","--shiki-dark":"#569CD6"}},"    type"),i("span",{style:{"--shiki-light":"#000000","--shiki-dark":"#D4D4D4"}},": "),i("span",{style:{"--shiki-light":"#0000FF","--shiki-dark":"#CE9178"}},"filesystem")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#800000","--shiki-dark":"#569CD6"}},"    options"),i("span",{style:{"--shiki-light":"#000000","--shiki-dark":"#D4D4D4"}},":")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#800000","--shiki-dark":"#569CD6"}},"      trust"),i("span",{style:{"--shiki-light":"#000000","--shiki-dark":"#D4D4D4"}},":")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#800000","--shiki-dark":"#569CD6"}},"        store"),i("span",{style:{"--shiki-light":"#000000","--shiki-dark":"#D4D4D4"}},": "),i("span",{style:{"--shiki-light":"#0000FF","--shiki-dark":"#CE9178"}},"${{env.TRUSTORE_PATH}}")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#800000","--shiki-dark":"#569CD6"}},"        type"),i("span",{style:{"--shiki-light":"#000000","--shiki-dark":"#D4D4D4"}},": "),i("span",{style:{"--shiki-light":"#0000FF","--shiki-dark":"#CE9178"}},"${{env.TRUSTORE_TYPE}}")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#800000","--shiki-dark":"#569CD6"}},"        password"),i("span",{style:{"--shiki-light":"#000000","--shiki-dark":"#D4D4D4"}},": "),i("span",{style:{"--shiki-light":"#0000FF","--shiki-dark":"#CE9178"}},"${{env.TRUSTORE_PASSWORD}}")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#800000","--shiki-dark":"#569CD6"}},"      keys"),i("span",{style:{"--shiki-light":"#000000","--shiki-dark":"#D4D4D4"}},":")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#800000","--shiki-dark":"#569CD6"}},"        store"),i("span",{style:{"--shiki-light":"#000000","--shiki-dark":"#D4D4D4"}},": "),i("span",{style:{"--shiki-light":"#0000FF","--shiki-dark":"#CE9178"}},"${{env.KEYSTORE_PATH}}")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#800000","--shiki-dark":"#569CD6"}},"        type"),i("span",{style:{"--shiki-light":"#000000","--shiki-dark":"#D4D4D4"}},": "),i("span",{style:{"--shiki-light":"#0000FF","--shiki-dark":"#CE9178"}},"${{env.KEYSTORE_TYPE}}")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#800000","--shiki-dark":"#569CD6"}},"        password"),i("span",{style:{"--shiki-light":"#000000","--shiki-dark":"#D4D4D4"}},": "),i("span",{style:{"--shiki-light":"#0000FF","--shiki-dark":"#CE9178"}},"${{env.KEYSTORE_PASSWORD}}")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#800000","--shiki-dark":"#569CD6"}},"bindings"),i("span",{style:{"--shiki-light":"#000000","--shiki-dark":"#D4D4D4"}},":")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#000000","--shiki-dark":"#D4D4D4"}},"...")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#800000","--shiki-dark":"#569CD6"}},"  south_kafka_client"),i("span",{style:{"--shiki-light":"#000000","--shiki-dark":"#D4D4D4"}},":")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#800000","--shiki-dark":"#569CD6"}},"    type"),i("span",{style:{"--shiki-light":"#000000","--shiki-dark":"#D4D4D4"}},": "),i("span",{style:{"--shiki-light":"#0000FF","--shiki-dark":"#CE9178"}},"kafka")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#800000","--shiki-dark":"#569CD6"}},"    kind"),i("span",{style:{"--shiki-light":"#000000","--shiki-dark":"#D4D4D4"}},": "),i("span",{style:{"--shiki-light":"#0000FF","--shiki-dark":"#CE9178"}},"client")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#800000","--shiki-dark":"#569CD6"}},"    options"),i("span",{style:{"--shiki-light":"#000000","--shiki-dark":"#D4D4D4"}},":")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#800000","--shiki-dark":"#569CD6"}},"      servers"),i("span",{style:{"--shiki-light":"#000000","--shiki-dark":"#D4D4D4"}},":")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#000000","--shiki-dark":"#D4D4D4"}},"        - "),i("span",{style:{"--shiki-light":"#0000FF","--shiki-dark":"#CE9178"}},"${{env.KAFKA_BOOTSTRAP_SERVER}}")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#800000","--shiki-dark":"#569CD6"}},"    exit"),i("span",{style:{"--shiki-light":"#000000","--shiki-dark":"#D4D4D4"}},": "),i("span",{style:{"--shiki-light":"#0000FF","--shiki-dark":"#CE9178"}},"south_tls_client")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#800000","--shiki-dark":"#569CD6"}},"  south_tls_client"),i("span",{style:{"--shiki-light":"#000000","--shiki-dark":"#D4D4D4"}},":")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#800000","--shiki-dark":"#569CD6"}},"    type"),i("span",{style:{"--shiki-light":"#000000","--shiki-dark":"#D4D4D4"}},": "),i("span",{style:{"--shiki-light":"#0000FF","--shiki-dark":"#CE9178"}},"tls")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#800000","--shiki-dark":"#569CD6"}},"    kind"),i("span",{style:{"--shiki-light":"#000000","--shiki-dark":"#D4D4D4"}},": "),i("span",{style:{"--shiki-light":"#0000FF","--shiki-dark":"#CE9178"}},"client")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#800000","--shiki-dark":"#569CD6"}},"    vault"),i("span",{style:{"--shiki-light":"#000000","--shiki-dark":"#D4D4D4"}},": "),i("span",{style:{"--shiki-light":"#0000FF","--shiki-dark":"#CE9178"}},"client_vault")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#800000","--shiki-dark":"#569CD6"}},"    options"),i("span",{style:{"--shiki-light":"#000000","--shiki-dark":"#D4D4D4"}},":")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#800000","--shiki-dark":"#569CD6"}},"      trust"),i("span",{style:{"--shiki-light":"#000000","--shiki-dark":"#D4D4D4"}},":")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#000000","--shiki-dark":"#D4D4D4"}},"        - "),i("span",{style:{"--shiki-light":"#0000FF","--shiki-dark":"#CE9178"}},"${{env.CA_CERT_ALIAS}}")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#800000","--shiki-dark":"#569CD6"}},"      keys"),i("span",{style:{"--shiki-light":"#000000","--shiki-dark":"#D4D4D4"}},":")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#000000","--shiki-dark":"#D4D4D4"}},"        - "),i("span",{style:{"--shiki-light":"#0000FF","--shiki-dark":"#CE9178"}},"${{env.SIGNED_CLIENT_CERT_ALIAS}}")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#800000","--shiki-dark":"#569CD6"}},"    exit"),i("span",{style:{"--shiki-light":"#000000","--shiki-dark":"#D4D4D4"}},": "),i("span",{style:{"--shiki-light":"#0000FF","--shiki-dark":"#CE9178"}},"south_tcp_client")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#800000","--shiki-dark":"#569CD6"}},"  south_tcp_client"),i("span",{style:{"--shiki-light":"#000000","--shiki-dark":"#D4D4D4"}},":")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#800000","--shiki-dark":"#569CD6"}},"    type"),i("span",{style:{"--shiki-light":"#000000","--shiki-dark":"#D4D4D4"}},": "),i("span",{style:{"--shiki-light":"#0000FF","--shiki-dark":"#CE9178"}},"tcp")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#800000","--shiki-dark":"#569CD6"}},"    kind"),i("span",{style:{"--shiki-light":"#000000","--shiki-dark":"#D4D4D4"}},": "),i("span",{style:{"--shiki-light":"#0000FF","--shiki-dark":"#CE9178"}},"client")])])]),i("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"})])],-1)])),_:1}),e[9]||(e[9]=i("div",{class:"hint-container info"},[i("p",{class:"hint-container-title"},"NOTE"),i("p",null,"SNI adds the domain name to the TLS handshake process so that the Zilla process reaches the right domain name and receives the correct SSL certificate.")],-1)),e[10]||(e[10]=i("p",null,[s("To test the above config you can use it to add or replace the necessary bindings in the "),i("a",{href:"https://github.com/aklivity/zilla-docs/releases/latest/download/http.kafka.sasl.scram.tar.gz",target:"_blank",rel:"noopener noreferrer"},"http.kafka.sasl.scram"),s(" cookbook.")],-1))])}const m=k(g,[["render",D],["__file","aiven.html.vue"]]),C=JSON.parse('{"path":"/how-tos/connecting-to-kafka/aiven.html","title":"Aiven","lang":"en-US","frontmatter":{"description":"How to connect to your own Aiven Kafka from Zilla.","gitInclude":[],"head":[["meta",{"property":"og:url","content":"https://docs.aklivity.io/zilla-docs/next/how-tos/connecting-to-kafka/aiven.html"}],["meta",{"property":"og:site_name","content":"Documentation"}],["meta",{"property":"og:title","content":"Aiven"}],["meta",{"property":"og:description","content":"How to connect to your own Aiven Kafka from Zilla."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"en-US"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Aiven\\",\\"image\\":[\\"\\"],\\"dateModified\\":null,\\"author\\":[]}"]]},"headers":[{"level":2,"title":"Aiven Parameters","slug":"aiven-parameters","link":"#aiven-parameters","children":[]},{"level":2,"title":"Configure Zilla","slug":"configure-zilla","link":"#configure-zilla","children":[]}],"readingTime":{"minutes":1.31,"words":393},"filePathRelative":"how-tos/connecting-to-kafka/aiven.md"}');export{m as comp,C as data};
